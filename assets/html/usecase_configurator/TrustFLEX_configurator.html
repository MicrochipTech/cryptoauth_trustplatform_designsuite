 <!doctype html>
<!-- Copyright (c) 2018-2019 Microchip Technology Inc. and its subsidiaries

    Subject to your compliance with these terms, you may use Microchip software
    and any derivatives exclusively with Microchip products. It is your
    responsibility to comply with third party license terms applicable to your
    use of third party software (including open source software) that may
    accompany Microchip software.

    THIS SOFTWARE IS SUPPLIED BY MICROCHIP "AS IS". NO WARRANTIES, WHETHER
    EXPRESS, IMPLIED OR STATUTORY, APPLY TO THIS SOFTWARE, INCLUDING ANY IMPLIED
    WARRANTIES OF NON-INFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A
    PARTICULAR PURPOSE. IN NO EVENT WILL MICROCHIP BE LIABLE FOR ANY INDIRECT,
    SPECIAL, PUNITIVE, INCIDENTAL OR CONSEQUENTIAL LOSS, DAMAGE, COST OR EXPENSE
    OF ANY KIND WHATSOEVER RELATED TO THE SOFTWARE, HOWEVER CAUSED, EVEN IF
    MICROCHIP HAS BEEN ADVISED OF THE POSSIBILITY OR THE DAMAGES ARE
    FORESEEABLE. TO THE FULLEST EXTENT ALLOWED BY LAW, MICROCHIP'S TOTAL
    LIABILITY ON ALL CLAIMS IN ANY WAY RELATED TO THIS SOFTWARE WILL NOT EXCEED
    THE AMOUNT OF FEES, IF ANY, THAT YOU HAVE PAID DIRECTLY TO MICROCHIP FOR
    THIS SOFTWARE.
-->
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<!--Designerd by: http://bootstrapthemes.co-->

<head>
    <meta charset="utf-8">
    <title>Microchip Secure Products Group TrustFLEX Use Case Tool</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png" href="assets/images/favicon.ico">

    <!--Google Font link-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">


    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/slick-theme.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/fonticons.css">
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">
    <link rel="stylesheet" href="assets/css/bootstrap.css">
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/bootsnav.css">
    <link rel="stylesheet" href="assets/css/configuration_styles.css">
    <link rel="stylesheet" href="assets/css/style_usecasetool.css">


    <!--For Plugins external css-->
    <!--<link rel="stylesheet" href="assets/css/plugins.css" />-->

    <!--Theme custom css -->
    <link rel="stylesheet" href="assets/css/style.css">
    <!--<link rel="stylesheet" href="assets/css/colors/maron.css">-->

    <!--Theme Responsive css-->
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <script src="assets/js/jquery.js"></script>
    <script type="text/javascript" src="assets/js/jquery_plantuml.js"></script>
    <script type="text/javascript" src="assets/js/rawdeflate.js"></script>
    <script src="assets/js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
</head>

<body onload="invokeRadioListners()" data-spy="scroll" data-target=".navbar-collapse">
    <div id="templates" style="display:none">
        <div id="note-msg-template" class="config-note">
            <svg viewBox="0 0 75 75" width="0.2in" height="0.2in">
                <use xlink:href="#note-icon" /></svg>
            <span class="msg-text"></span>
        </div>

        <div id="warning-msg-template" class="config-warning">
            <svg viewBox="0 0 75 75" width="0.2in" height="0.2in">
                <use xlink:href="#warning-icon" /></svg>
            WARNING: <span class="msg-text"></span>
        </div>

        <div id="error-msg-template" class="config-error">
            <svg viewBox="0 0 75 75" width="0.2in" height="0.2in">
                <use xlink:href="#error-icon" /></svg>
            ERROR: <span class="msg-text"></span>
        </div>
    </div>

    <!-- Preloader -->
    <div id="loading">
        <div id="loading-center">
            <div id="loading-center-absolute">
                <div class="object" id="object_one"></div>
                <div class="object" id="object_two"></div>
                <div class="object" id="object_three"></div>
                <div class="object" id="object_four"></div>
            </div>
        </div>
    </div>
    <!--End off Preloader -->


    <div class="culmn">
        <!--Home page style-->


        <nav class="navbar navbar-default navbar-fixed no-background bootsnav">
            <!-- Start Top Search -->
            <div class="top-search">
                <div class="container">
                    <div class="input-group">
                        <span class="input-group-addon"><i class="fa fa-search"></i></span>
                        <input type="text" class="form-control" placeholder="Search">
                        <span class="input-group-addon close-search"><i class="fa fa-times"></i></span>
                    </div>
                </div>
            </div>
            <!-- End Top Search -->

            <div class="container">
                <!-- Start Atribute Navigation -->
                <div class="attr-nav">
                    <ul>
                        <li class="side-menu"><a href="#"><i class="fa fa-bars"></i></a></li>
                    </ul>
                </div>
                <!-- End Atribute Navigation -->

                <!-- Start Header Navigation -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                        <i class="fa fa-bars"></i>
                    </button>
                    <a class="navbar-brand" href="https://www.microchip.com" target="_blank">

                        <img src="assets/images/MCHP_Logo_Vertical_4C.png" class="logo logo-display m-top-10" alt="">
                        <img src="assets/images/MCHP_Logo_Vertical_4C.png" class="logo logo-scrolled" alt="">

                    </a>
                </div>
                <!-- End Header Navigation -->

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="navbar-menu">
                    <ul class="nav navbar-nav navbar-left" data-in="fadeInDown" data-out="fadeOutUp">
                        <li><a href="#welcome">Home</a></li>
                        <li><a href="#method">TrustFLEX Methodology</a></li>
                        <li><a href="#standard_config">TrustFLEX Use Cases Library</a></li>
                        <li><a href="#trustflex_config">TrustFLEX Configurator</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div>


            <!-- Start Side Menu -->
            <div class="side">
                <a href="#" class="close-side"><i class="fa fa-times"></i></a>
                <div class="widget">
                    <h6 class="title">TrustFLEX Quick Links</h6>
                    <ul class="link">
                        <li><a href="#welcome">Home</a></li>
                        <li><a href="#method">Methodology</a></li>
                        <li><a href="#standard_config">Use Cases Library</a></li>
                        <li><a href="#trustflex_config">Configurator</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="widget">
                    <h6 class="title">Additional Links</h6>
                    <ul class="link">
                       <!--<li><a href="#secure_boot">Secure Boot</a></li>
                        <li><a href="#ip_protection">IP Protection</a></li>-->
                        <li><a href="https://microchiptech.github.io/cryptoauthlib" target="_blank">CryptoAuthLib
                                GitHub</a></li>
                    </ul>
                </div>
            </div>
            <!-- End Side Menu -->

        </nav>

        <!-- Welcome sections-->
        <section id="welcome" class="method lightbg roomy-100">
             <h1 align=center>TrustFLEX Methodology, Use Cases Library & Configurator Tool</h1>
        </section> <!-- End off home section -->

        <!--methodology Sections-->
        <section id="method" class="method lightbg roomy-100">

            <div class="container">
                <div class="row">
                    <div class="main_method">
                        <div class="col-md-10">
                            <div class="method_content">
                                <h3>TrustFLEX METHODOLOGY</h3>
                                <div class="separator_left"></div>

                                <p>To help your design journey, Microchip is offering this Use-case Tool.
                                    It is a step by step guide for application developers to go from concept to
                                    production.
                                    Starting from identifying your Use Case, all the way to creating prototype ready
                                    configuration and finally to setup a custom part number for their required
                                    configuration before going in production.
                                    This tool is intended to provide various Use Cases where secure elements provide
                                    value for customers to reduce risk,
                                    increase revenue or reduce cost in their applications.<br>
                                    In each use-case, we have provided following information for you to easily get
                                    started.
                                    You will be guided through the following process.</p><br>
                            </div>
                            <div class="method_accordion wow fadeIn">
                                <div id="faq_main_content" class="faq_main_content">
                                    <h6><i class="fa fa-angle-right"></i> 1. USE CASE IDENTIFICATION </h6>
                                    <div>
                                        <div class="content">
                                        <p> From the range of TrustFLEX <a href="#standard_config">Use Cases Library</a> available below, choose the one(s) that fits closly to your application. Each Use Case comes with an example (Python Notebook & C code) and its respective documentation.</p>
                                        </div>
                                    </div>
                                    <h6><i class="fa fa-angle-right"></i> 2. TRANSACTION DIAGRAM</h6>
                                    <div>
                                        <div class="content">
                                            <p>Once the use-case is identified, it is important to understand the
                                                communication flow between the Host MCU and Secure element for
                                                accomplishing the use-case with secure element. Generally each of the
                                                Use Case would consist in a host sending a “Challenge” and expecting a
                                                “Response”. This flow is called the transaction diagram.</p>

                                            <p>In some use-cases, there could be more than one way to achieve the goal
                                                based on the secure element features and we will illustrate these paths
                                                and explain the pros/cons of each path for the user to select the path
                                                that fits best for them.</p>
                                        </div>
                                    </div> <!-- End off accordion item-2 -->

                                    <h6> <i class="fa fa-angle-right"></i> 3. INFER CRYPTOGRAPHIC ASSETS</h6>
                                    <div>
                                        <div class="content">
                                            <p>An asset relates to credentials, token, certificates, key(s) etc.. . A
                                                Policy relates to what a memory slot can do such as writing, reading, or
                                                both, if the slot is locked or not etc…</p>

                                            <p>As part of the use-case configuration flow, certain cryptographic assets
                                                need to be stored inside the secure element and this section will
                                                explain the required assets needed along with the security policies
                                                needed and the importance of these assets as it pertains to the
                                                use-case.</p>

                                            <p>At this stage of the document, it is assumed that the reader has good
                                                understanding of the use-case and also the communication protocol
                                                between the host MCU and secure element as well as various crypto assets
                                                needed in the secure element. It is time to allocate secure element
                                                slots for storing necessary cryptographic assets and set the appropriate
                                                policy settings. In each of the use-case pages, you will find proposed
                                                standard templates. If you want to make any changes to this
                                                configuration, you can go to the interactive tool in the  Configurator
                                                tab to customize your configuration. </p>

                                            <p>For development purpose, you will need to generate the development keys & certificates through the Jupyter Notebook:<br>
                                            <b>Start Jupyter</b> by launching <b>Trust Platform GUI</b> then run <b>TrustFLEX\00_resource_generation\TFLXTLS_resource_generator.ipynb</b></p>
                                        </div>
                                    </div> <!-- End off accordion item-3 -->

                                    <h6><i class="fa fa-angle-right"></i> 4. SECURE ELEMENT CONFIGURATION</h6>
                                    <div>
                                        <div class="content">
                                            <p>ATECC608B-TFLXTLS devices are already configured for <a href="#standard_config">Use Cases</a> listed.</p>
                                        </div>
                                    </div> <!-- End off accordion item-4 -->
                                    <h6><i class="fa fa-angle-right"></i> 5. PROTOTYPING</h6>
                                    <div>
                                        <div class="content">
                                            <p>Test the configuration and host/Secure Element transactions on the <a href="https://www.microchip.com/DevelopmentTools/ProductDetails/DM320118" target="_blank">DM320118 prototyping platform</a> (check "PROTYPING PLATFORM" section in <a href="../../../start_here.html#hardware" target="_blank">START HERE</a>)</p>
                                            <p>Notebooks are executable tutorials allowing to prototype the entire set of transactions using the host PC and the actual Secure Element. <b>Start Jupyter</b> by launching <b>Trust Platform GUI</b> then run the selected Use Case(s). As an example for Firmware Validation: <b>"TrustFLEX\02_firmware_validation\notebook\TFLXTLS_firmware_validation.ipynb"</b></p>
                                            <p>Cryptoauthlib is C library which supports Microchip CryptoAuth devices. A collection of reference C code examples are available for the most common use cases.
                                            As an example for Firmware Validation, navigate to : <b>"TrustFLEX\02_firmware_validation\c"</b> and retrieve the C code to be implemented in your embedded project.</p>


                                        </div>
                                    </div> <!-- End off accordion item-4 -->
                                    <h6><i class="fa fa-angle-right"></i> 6. SECRET EXCHANGE PROCESS</h6>
                                    <div>
                                        <div class="content">
                                            <p>The Secret Exchange process consists of securely transmitting the secrets, keys and certificate authority to Microchip Hardware Security Modules (HSMs) to allow for volume production</p>

                                            <p>The TrustPlatform Design Suite provides the <a href="#trustflex_config">TrustFLEX Configurator</a> to generate the encrypted secret exchange files.</p>
                                        </div>
                                    </div> <!-- End of accordion item 5 -->
                                    <h6><i class="fa fa-angle-right"></i> 7. PRODUCTION GRADE PROVISIONING</h6>
                                    <div>
                                        <div class="content">
                                            <p>Once Secrets, keys and Certificate Authorities are securely loaded in Microchip HSMs, the products can be produced from very low to extremely high volume without the need for any further setup thanks to the extreme scalability of Microchip's provisioning system.</p>
                                        </div>
                                    </div> <!-- end of accordion item-5 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--End off row-->
            </div>
            <!--End off container -->
        </section> <!-- End off methodology section -->



        <!--TrustFLEX Use Case selection Section-->
        <section id="standard_config" class="lightbg">
            <div class="container">
                <div class="row">
                    <div class="roomy-50">
                        <div class="col-md-8 col-md-offset-2 col-sm-12">
                            <div class="head_title text-center">
                                <h2>USE CASE LIBRARY</h2>
                                <div class="separator_auto"></div>
                                <p>The following standard use cases are available completely pre-configured including
                                    transaction diagrams and example code.</p>
                            </div>
                        </div>
                        <!-- First use case of the first row -->
                        <div class="col-md-4 col-sm-12">
                            <div class="use_case_item">
                                <div class="use_case_head p-top-30 p-bottom-30 text-center">
                                    <p>Firmware validation</p>
                                    <p>Secure OTA</p>
                                </div>
                                <div class="use_case_border text-center">
                                    <div class="use_case_text" id="secureBootItem">
                                        <a href="javascript:toggleUseCase(100)" id="secureBootBtn" class="use_casse_btn use_case_btn-primary text-white">SELECT</a>
                                    </div>
                                </div>

                                <div class="use_case_body bg-white p-top-110 p-bottom-60">
                                    <div class="use_case_btn text-center m-top-40">
                                    </div>
                                </div>
                            </div>
                        </div><!-- End off col-md-4 -->
                        <!-- Second use case of the first row -->
                        <div class="col-md-4 col-sm-12">
                            <div class="use_case_item"> <!--"sm-m-top-30">-->
                                <div class="use_case_head p-top-30 p-bottom-30 text-center">
                                    <p>Secure Public Key</p>
                                    <p>Rotation</p>
                                </div>
                                <div class="use_case_border text-center">
                                    <div class="use_case_text" id="secureKeyRotationItem">
                                        <a href= "javascript:toggleUseCase(101)" id="secureKeyRotationBtn" class="use_casse_btn use_case_btn-primary text-white">SELECT</a>
                                    </div>
                                </div>

                                <div class="pricing_body bg-white p-top-110 p-bottom-60">
                                    <div class="pricing_btn text-center m-top-40">
                                    </div>
                                </div>
                            </div>
                        </div><!-- End off col-md-4 -->
                        <!-- Third use case of the first row -->
                        <div class="col-md-4 col-sm-12">
                            <div class="use_case_item sm-m-top-30">
                                <div class="use_case_head p-top-30 p-bottom-30 text-center">
                                    <p>IP / Firmware</p>
                                    <p>Protection</p>
                                </div>
                                <div class="use_case_border text-center">
                                    <div class="use_case_text" id="ipProtectionItem">
                                        <a href="javascript:toggleUseCase(102)" id="ipProtectionBtn" class="use_casse_btn use_case_btn-primary text-white">SELECT</a>
                                    </div>
                                </div>
                                <div class="pricing_body bg-white p-top-110 p-bottom-60">
                                    <div class="pricing_btn text-center m-top-40">
                                    </div>
                                </div>
                            </div>
                        </div><!-- End off col-md-4 -->
                    </div>
                </div><!-- End of the row -->
            </div><!-- End of the container -->
            <!-- end of first row of the USE CASE LIBRARY -->
            <div class="container">
                <div class="row">
                    <div class="use_cases_row_2 roomy-50">
                        <!-- First use case of the second row -->
                        <div class="col-md-4 col-sm-12">
                            <div class="use_case_item">
                                <div class="use_case_head p-top-30 p-bottom-30 text-center">
                                    <p>Accessory / Disposable </p>    <p>Symmetric-Authentication</p>
                                </div>
                                <div class="use_case_border text-center">
                                    <div class="use_case_text" id="disposableItem">
                                        <a href="javascript:toggleUseCase(103)" id="disposableBtn" class="use_casse_btn use_case_btn-primary text-white">SELECT</a>
                                    </div>
                                </div>

                                <div class="pricing_body bg-white p-top-110 p-bottom-60">
                                    <div class="pricing_btn text-center m-top-40">
                                    </div>
                                </div>
                            </div>
                        </div><!-- End off col-md-4 -->
                        <!-- Second use case of the second row -->
                        <div class="col-md-4 col-sm-12">
                            <div class="use_case_item sm-m-top-30">
                                <div class="use_case_head p-top-30 p-bottom-30 text-center">
                                    <p>Custom Public Key</p> <p>Infrastructure</p>
                                </div>
                                <div class="use_case_border text-center">
                                    <div class="use_case_text" id="customPKIItem">
                                        <a href="javascript:toggleUseCase(104)" id="customPKIBtn" class="use_casse_btn use_case_btn-primary text-white">SELECT</a>
                                    </div>
                                </div>

                                <div class="pricing_body bg-white p-top-110 p-bottom-60">
                                    <div class="pricing_btn text-center m-top-40">
                                    </div>
                                </div>
                            </div>
                        </div><!-- End off col-md-4 -->
                        <div class="col-md-4 col-sm-12">
                            <div class="use_case_item sm-m-top-30">
                                <div class="use_case_head p-top-30 p-bottom-30 text-center">
                                    <p>Cloud Connect</p> <p>Google - IoT</p>
                                </div>
                                <div class="use_case_border text-center">
                                    <div class="use_case_text" id="cloud_gcp_tflexItem">
                                        <a href="javascript:toggleUseCase(105)" id="cloud_gcp_tflexBtn" class="use_casse_btn use_case_btn-primary text-white">SELECT</a>
                                    </div>
                                </div>

                                <div class="pricing_body bg-white p-top-110 p-bottom-60">
                                    <div class="pricing_btn text-center m-top-40">
                                    </div>
                                </div>
                            </div>
                        </div><!-- End off col-md-4 -->
                    </div>
                </div>
                <!--End off row-->
            </div>
            <div class="container">
                <div class="row">
                    <div class="use_cases_row_2 roomy-50">
                        <div class="col-md-4 col-sm-12">
                            <div class="use_case_item">
                                <div class="use_case_head p-top-30 p-bottom-30 text-center">
                                <p>Accessory / Disposable </p> <p>Asymmetric-Authentication</p></div></div>
                            <div class="use_case_border text-center">
                                <div class="use_case_text" id="disposable_asym_tflxItem">
                                    <a href="javascript:toggleUseCase(106)" id="disposable_asym_tflxBtn" class="use_casse_btn use_case_btn-primary text-white">SELECT</a></div></div>
                            <div class="pricing_body bg-white p-top-110 p-bottom-60">
                                <div class="pricing_btn text-center m-top-40">
                                </div></div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <br />
            <br />
        </section>

        <!--Enf of TrustFLEX Use Case selection Section -->

    <!--Secure Boot Section-->
    <section id="secureBoot" class="secure_boot roomy-100" style="display: none">
    <div class="container">
    <div class="row">
    <div class="main_secure_boot" id="secure_boot_section">
    <div class="col-md-6">
    <div class="secure_boot_use_case">
    <h2>Firmware Validation</h2>
    <div class="separator_left"></div>

    <p>For many connected end products, the ability to update the internal firmware of the main Microcontroller is a key end user feature. However, the ability to securely upgrade the Microcontroller firmware starts with ensuring that the initial firmware has not been tampered with. This specific attribute is called <b>Secure Boot / Firmware validation</b>. It is not necessarily limited to connected devices. For instance, many medical rated devices are required through stringent regulation to employ some security mechanism to ensure only legitimate firmware is running.</p>
    <p>The secure element provides options to store signature and/or digest for the application validation in a separate immutable container. When the signature is opted, it will be verified using the Public Key which will remain immutable. In case of digest, it will be simply compared with preloaded value. It also supports wire protection to protect system when connections between MCU and device is replaced with fraudulent signals.</p>
    <p> This section describe how a Microchip ATECC608B Secure Element can be used to enhance the firmware validation process of any Microcontroller or Microprocessor</p>
    </div>
    </div></br>

    <!--<div class="secure_boot_video">-->
    <div class="col-md-6">
    <div class="secure_boot_video">
    <p> Listen to this short video for a high level description of how the ECC608B interacts
    with the microcontroller during the firmware validation</p>
    <a href="https://www.youtube.com/watch?v=cbOuo-wL2Ms&feature=youtu.be" target="_blank">
    <img alt="Secure Boot with ATECC608B"
    src="assets/images/training/cryptoauthentication-1.png"></a>
    <!--<iframe width="540" height="337" src="https://www.youtube.com/watch?v=cbOuo-wL2Ms&feature=youtu.be" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>-->
    </div>
    </div>
    </div>
    </div> <!-- end of row -->
    <br>
    <br>
    </div>
    <div class="container">
    <div class="row">
    <div class="secure_boot_main">
    <div class="col-md-10">
    <div class="secure_boot_steps">
    <h4><i class="fa fa-angle-right"></i> 1. TRANSACTION DIAGRAM </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> The first step is to define the transaction diagram for a given use case. Here is the set of transactions required to implement a standard firmware validationprocess. This specific implementation encrypts and authenticate all transactions between the host and the Secure Element to prevent a man in the middle attack on the I2C wire. A simpler implementation without encryption and authentication is possible if a man in the middle attack is of no concern for the target system.</p>
    <object id="svg_canvas_sboot" style="color: chocolate"></object>
    <img uml="
    title Firmware Validation using Encrypted Digest
    activate HostMCU
    note left of HostMCU
    HostMCU to calculate the digest
    end note
    HostMCU->HostMCU: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/app/secure_boot/secure_boot.c#L174{Calculates the application digest using software SHA256 implementation; Ctrl+Click to open in new Tab}secure_boot_calc_app_digest(...)]]
    note left of HostMCU
    HostMCU requests CryptoAuthLib to do
    encrypted secureboot sequence
    end note
    HostMCU->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_secureboot.c#L115{ Executes Secure Boot command with encrypted digest and validated MAC response using the IO protection key; Ctrl+Click to open in new Tab} atcab_secureboot_mac(...)]]
    activate CryptoAuthLib
    note left of CryptoAuthLib
    CryptoAuthLib does the
    required steps in the
    sequence
    end note
    CryptoAuthLib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_nonce.c#L57{Executes Nonce command, which loads a random or fixed nonce/data into the device for use by subsequent commands; Ctrl+Click to open in new Tab}atcab_nonce_base(...)]]
    activate TrustFLEX
    TrustFLEX-->CryptoAuthLib: Device RNG
    deactivate TrustFLEX

    CryptoAuthLib->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/host/atca_host.c#L334{Encrypts the digest for the Secureboot command when using the encrypted digest / validating mac option; Ctrl+Click to open in new Tab}atcah_secureboot_enc(...)]]

    CryptoAuthLib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_secureboot.c#L52{Executes Secure Boot command, which provides support for secure boot of an external MCU or MPU; Ctrl+Click to open in new Tab}atcab_secureboot(...)]]
    activate TrustFLEX
    note right of TrustFLEX
    Decrypt, compare and
    respond with MAC
    end note
    TrustFLEX-->CryptoAuthLib: MAC from Device
    deactivate TrustFLEX

    CryptoAuthLib->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/host/atca_host.c#L370{Calculates the expected MAC returned from the Secureboot command when verification is a success; Ctrl+Click to open in new Tab}atcah_secureboot_mac(...)]]
    CryptoAuthLib-->HostMCU: Digest validity
    deactivate CryptoAuthLib
    note over HostMCU
    Host declares application is
    valid or not based on
    digest validity
    end note
    deactivate HostMCU        ">

    <br>
    </div><!-- End off accordion item-1 -->
    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 2. INFER CRYPTOGRAPHIC ASSETS </h4>
    <div class="separator_left"></div>
    <div class="content">
    Considering the above transaction diagram, the following the following assets are needed on TrustFLEX.
    <ol>
    <li> Image digest (If mode needs signature, signature will be stored here)</li>
    <li> Firmware validation Public Key</li>
    <li> IO Protection Key</li>
    </ol>

    <p>The image digest will be loaded on to the TrustFLEX device during the firmware upgrade process.</p>

    <p>Firmware validation Public key needs to be present in the TrustFLEX device so that it can perform verify operation. The public key will be loaded into TrustFLEX device during provisioning or resource generation stage. </p>

    <p>The TrustFLEX device provides a method to protect the IO transmissions between it and the host MCU for Secureboot commands. This can be achieved by using the IO Protection Key feature. It is a typical random number generated at the first power-up of the board embedding the TrustFLEX and host MCU. This secret would be written into both IO Protection Key slot and secure place within the host. For a simpler system where attacks on the communication line is not a problem IO protection is not needed.</p>

    <p>Manufactures are required to generate a ECC256 Curve P256 key pair, the private key generated would be used to sign the application image and the Public key is loaded into TrustFLEX device.  Secure element uses this to perform the verify operation. </p>

    <p> Configuration zone[71:70] controls the secure boot feature. In this usecase we set the secure boot usage to “FullDig” by setting bits 0 and 1 in byte 70. “FullDig” limits the modes you can use in the secureboot command to FullStore and FullCopy and also the data to only the “digest”.</p>
    </div><!-- End off accordion item-2 -->
    <br /><br />
    <h4> <i class="fa fa-angle-right"></i> 3. DEFINE SECURE ELEMENT CONFIGURATION </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> TrustFLEX devices are already configured for a collection of use cases. This use case is one among them. Hence there is no separate configuration is required.  </p>
    <p><ol><li>Slot15 contains public key</li>
    <li>Slot6 contains IO protection key</li>
    <li>Slot7 contains application digest</li></ol></p>
    </div><!-- End off accordion item-3 -->
    <br/>
    <br/>
    <h4><i class="fa fa-angle-right"></i> 4. PROTOTYPING </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the secure element configuration, its possible to test the configuration and assets through host and secure element transactions on the prototyping platform. The required code to perform this use case is available as Jupyter Notebook and C example, Jupyter Notebooks are written in Python and are accompanied with extensive documentation.</p>

    <p>Refer to <a href="../../../docs/TrustFLEX_guide_firmware_validation.pdf" target="_blank"> Usecase step by step guide </a> for hands-on instructions. Below is the sequence of steps for prototyping an usecase,</p>
    <p><img src="assets/images/Protype Sequence_fv.png"></p>

    <p>The <b>TFLXTLS_resource_generator.ipynb</b> notebook helps to generate the required resources for the use case. On executing the resource generator, secure element data zone is written with required secrets, keys, and certificates. The secrets or certificates loaded in this stage can be found in the same folder. Note that these secrets should be used ONLY for prototyping.</p>

    <p>Once the resources are generated, the firmware validation flow can be prototyped both on Notebook and C project.</p>

    <p>The <b>TrustFLEX\02_firmware_validation\notebook\TFLXTLS_firmware_validation.ipynb</b> notebook helps in running prototype using Crypto Auth Trust Platform. The major steps involved in this notebook are
    <ol><li>Generating a Key pair</li>
    <li>Device provisioning (Done part of resource generation)</li>
    <li>Sign the firmware</li>
    <li>Verify the firmware</li></ol></p>

    <p><b>TrustFLEX\02_firmware_validation\firmware\</b> contains the embedded project that does firmware validation by using TurstFLEX device on Crypto Trust Platform. This embedded project comes with required modules like CryptoAuthLib and application files.</p>

    <p>Once all the steps are performed as in step by step guide, return back here to continue with Secret Exchange Process for loading actual secrets to TrustFLEX securely.</p>
    </div><!-- End off accordion item-4 -->
    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 5. SECRET EXCHANGE PROCESS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the prototyping, it’s important to load the final secrets, keys and certificate authority details to the Secure Element. The Trust Platform Design Suite provides TrustFLEX XML Generator which helps in generating the Secret Exchange Package.</p>
    <p>Microchip will provide encryption utility to encrypt sensitive data so that only you have the knowledge of product / application specific secrets. The encrypted data are handled by Thales Hardware Secure Modules installed within our production plants across the globe.</p>
    <p>Refer to <a href = "../../../docs/TrustFLEX_guide_secret_exchange_process.pdf", target="_blank"> Secret Exchange guide</a> for detailed steps involved in secret exchange, certificate signing and tracking secure provisioning state. </p>
    </div><!-- End of accordion item 5 -->
    <br /><br />
    <h4><i class="fa fa-angle-right"></i> 6. VOLUME PROVISIONING</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> You can work with Microchip sales team to setup the custom part number and provide the package you have developed. Leverage the package from the previous step to fast track the process. </p>
    <p>Microchip will review the package and setup the part number for you to place order and build your product in volume.</p>
    </div><!-- end of accordion item-6 -->
    </div>
    </div>
    </div>
    </div> <!-- Enf of row -->
    </div>
    <!--End off container -->
    </section>
    <!--End off Secure Boot section -->

    <!--IP Protection Sections-->
    <section id="ipProtection" class="ip_protection lightbg roomy-100" style="display: none">
    <div class="container">
    <div class="row">
    <div class="main_ip_protection">
    <div class="col-md-10">
    <div class="ip_protection_use_case">
    <h2>IP PROTECTION</h2>
    <div class="separator_left"></div>
    <p>The Intellectual Property (IP) is one of the most valuable assets to a company and is very important to protect it. IP protection describes the way of protecting the firmware or hardware developed by the customers from copies. Firmware IP Protection can be done with just a software based approach, but the key information inside the firmware remains quite vulnerable to attacks.</p>
    <p>The hardware based security key storage provides higher level of security by securely storing the keys and performs authentication to protect the firmware. Customers can protect their IP by performing the <strong>Authentication</strong> with the secret keys.</p>
    <p> This section describe how a Microchip ATECC608B Secure Element can be used for protecting IPs in embedded applications</p>
    </div>
    </div>

    </div>
    </div> <!-- end of row -->
    <br>
    <br>
    </div>
    <div class="container">
    <div class="row">
    <div class="ip_protection">
    <div class="col-md-10">
    <div class="ip_protection_steps">
    <h4><i class="fa fa-angle-right"></i> 1. TRANSACTION DIAGRAM </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> The first step is to define the transaction diagram for a given use case. Here is the set of transactions required to implement a typical IP protection. The following diagram provides sequence of transactions between Host MCU and secure element to perform Symmetric Authentication.</p>
    </div><!-- End off accordion item-1 -->
    <object id="svg_canvas_symauth" style="color: chocolate"></object>
    <img uml="
    title  IP Protection
    note left of HostMCU
    HostMCU to initiate authentication step
    end note

    HostMCU->Cryptoauthlib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/app/ip_protection/symmetric_authentication.c#L43{Performs the required sequences to check application's authenticity; Ctrl+Click to open in new Tab}symmetric_authenticate(...)]]
    note left Cryptoauthlib: Cryptoauthlib does the \n required steps in the \n sequence
    activate Cryptoauthlib
    Cryptoauthlib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_read.c#L123{Reads serial number for host-side MAC calculations; Ctrl+Click to open in new Tab}atcab_read_serial_number(...)]]
    activate TrustFLEX
    TrustFLEX-->Cryptoauthlib: Device Serial Number
    deactivate TrustFLEX

    Cryptoauthlib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_nonce.c#L186{Performs nonce generation on the device and returns RNG used; Ctrl+Click to open in new Tab}atcab_nonce_rand(...)]]
    activate TrustFLEX
    TrustFLEX-->Cryptoauthlib: Device RNG
    deactivate TrustFLEX

    Cryptoauthlib->Cryptoauthlib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/host/atca_host.c#L97{Calculates the nonce on the host using RNG returned by device; Ctrl+Click to open in new Tab}atcah_nonce(...)]]

    Cryptoauthlib->Cryptoauthlib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/host/atca_host.c#L1145{Host derives the key for MAC verification; Ctrl+Click to open in new Tab}atcah_derive_key(...)]]

    Cryptoauthlib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_mac.c#L52{Triggers MAC calculation on the device using secret; Ctrl+Click to open in new Tab}atcab_mac(...)]]
    activate TrustFLEX
    note right TrustFLEX: Calculates MAC with the \n Symmetric diversified key

    TrustFLEX-->Cryptoauthlib: Return MAC
    deactivate TrustFLEX

    Cryptoauthlib->Cryptoauthlib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/host/atca_host.c#L420{Repeat MAC calculation on the host using secret; Ctrl+Click to open in new Tab}atcah_mac(...)]]
    note right Cryptoauthlib: Cryptoauthlib \n calculated MAC
    note over Cryptoauthlib: Compares Device returned MAC \n with Cryptoauthlib calculated MAC
    Cryptoauthlib-->HostMCU: Return Authentication status
    deactivate Cryptoauthlib

    note over HostMCU: HostMCU verifies the authenticity \n and the user application">

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 2. INFER CRYPTOGRAPHIC ASSETS </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>Considering the above transaction diagram, only one shared secret key is needed on host and secure element for authentication process.</p>
    <p>This process uses a challenge-response model. In this model, host authenticates the TrustFLEX device based on MAC response. MAC is calculated on the TrustFLEX device to prove that it holds the secret key that is shared by the host. Then the calculated MAC will be verified by the host to continue using IP.</p>
    <p>MAC calculation on TrustFLEX includes device serial number, nonce (number used once) and shared secret key. By including serial number and nonce, host can get unique MAC from each TrustFLEX every time, thereby avoiding the replay attacks.</p>
    </div><!-- End off accordion item-2 -->

    <br />
    <br />
    <h4> <i class="fa fa-angle-right"></i> 3. SECURE ELEMENT CONFIGURATION </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>TrustFLEX devices are already configured for a collection of use cases. This use case is one among them. Hence there is no separate configuration is required.</p>
    <p>The prototype TrustFLEX device comes with options to rewrite symmetric key along with options to lock the slot if required.</p>
    <p>However, for the production devices, as part of provisioning this slot can be marked for permanent locking to enhance the system security.</p>
    </div><!-- End off accordion item-3 -->

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 4. PROTOTYPING </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the secure element configuration, it’s possible to test the configuration and assets through host and Secure Element transactions on the prototyping platform. The required code to perform this use case is available as Jupyter Notebook and C example. Jupyter Notebooks are written in Python and are accompanied with extensive documentation.</p>
    <p>Refer to <a href="../../../docs/TrustFLEX_guide_IP_protection.pdf" target="_blank"> Usecase step by step guide </a> for hands-on instructions. Below is the sequence of steps for prototyping an usecase,</p>
    <p><img src="assets/images/Protype Sequence.png"></p>
    <p>The <b>TFLXTLS_resource_generator.ipynb</b> notebook helps to generate the required resources for the use case. On executing the resource generator, secure element data zone is written with required secrets, keys, and certificates. The secrets or certificates loaded in this stage can be found in the same folder. Note that these secrets should be used ONLY for prototyping. </p>
    <p>Once the resources are generated, the IP protection flow can be prototyped both on Notebook and C project</p>
    <p>The <b>TrustFLEX\04_ip_protection\notebook\TFLXTLS_IP_protection.ipynb</b> notebook helps in running prototype using Crypto Auth Trust Platform. The major steps involved in this notebook are</p>
    <ol><li>Generate MAC from TFLXTLS part</li>
    <li>Verify Expected MAC on Host</li></ol>
    <p><b>TrustFLEX\04_ip_protection\firmware\</b> contains the embedded project that does IP Protection by using TurstFLEX device on Crypto Trust Platform. This embedded project comes with required modules like CryptoAuthLib and application files.</p>
    <p>Once all the steps are performed as in step by step guide, return back here to continue with Secret Exchange Process for loading actual secrets to TrustFLEX securely.</p>
    </div><!-- End off accordion item-4 -->

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 5. SECRET EXCHANGE PROCESS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the prototyping, it’s important to load the final secrets, keys and certificate authority details to the Secure Element. The Trust Platform Design Suite provides <strong>TrustFLEX XML Generator</strong> which helps in generating the Secret Exchange Package. </p>
    <p>Microchip will provide encryption utility to encrypt sensitive data so that only you have the knowledge of product / application specific secrets. The encrypted data are handled by Thales Hardware Secure Modules installed within our production plants across the globe.</p>
    <p>Refer to <a href = "../../../docs/TrustFLEX_guide_secret_exchange_process.pdf", target="_blank"> Secret Exchange guide</a> for detailed steps involved in secret exchange, certificate signing and tracking secure provisioning state. </p>
    </div><!-- End of accordion item 5 -->

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 6. VOLUME PROVISIONING</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> You can work with Microchip sales team to setup the custom part number and provide the package you have developed. Leverage the package from the previous step to fast track the process.</p>
    <p>Microchip will review the package and setup the part number for you to place order and build your product in volume.</p>
    </div><!-- end of accordion item-6 -->
    </div>
    </section>
    <!--End off IP Protection section -->

    <!-- Secure Public Key Rotation -->
    <section id="secureKeyRotation" class="roomy-100" style="display: none">
    <div class="container">
    <div class="row">
    <div class="main_disposable">
    <div class="col-md-10">
    <div class="disposable_use_case">
    <h2>Secure Public Key Rotation</h2>
    <div class="separator_left"></div>
    <p>Cryptographic best practices discourage extensive reuse of encryption keys. In situations like Secure Boot or OTA firmware authentication, its important to have ability to update the public key that is used for verifying firmware. </p>
    <p>Microchip Crypto Authentication devices provide solutions to update public keys securely. This use case describes how Microchip TrustFLEX device can be used for rotating a public key securely using validation authority.</p>
    </div>
    </div>
    </div>
    </div> <!-- end of row -->
    <br>
    <br>
    </div>
    <div class="container">
    <div class="row">
    <div class="disposable">
    <div class="col-md-10">
    <div class="disposable_steps">
    <h4><i class="fa fa-angle-right"></i> 1. TRANSACTION DIAGRAM </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> The first step is to define the transaction diagram for a given use case. Here is the set of transactions required to implement a Secure Public key rotation.</p>
    </div><!-- End off accordion item-1 -->
    <object id="svg_canvas_rotate_pub_key" style="color: chocolate"></object>
    <img uml="
    title Secure Public Key Rotation
    participant OEM
    participant HostMCU
    participant CryptoAuthLib
    participant TrustFLEX
    skinparam participantpadding 75

    note over OEM, TrustFLEX #FFAAAA : Setup

    note left of OEM
    **Validation Authority**
    Holds an authorizing Key pair
    end note

    note right of OEM
    1. Generate initial Key to load
    2. Get public key signed
    end note

    note left of OEM
    1. Calculate public key digest
    2. Get it Signed by
    **Validation Authority**
    3. Write Public key to slot
    end note

    HostMCU->CryptoAuthLib:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_write.c#L379{directs host write operation request to secure element ; Ctrl+Click to open in new Tab}atcab_write_pubkey(...)]]
    CryptoAuthLib->TrustFLEX:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_write.c#L59{write generated public key into secure element; Ctrl+Click to open in new Tab}atcab_write(...)]]
    TrustFLEX-->CryptoAuthLib:

    HostMCU->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_verify.c#L409{ directs host validate operation request to secure element; Ctrl+Click to open in new Tab}atcab_verify_validate(...)]]
    CryptoAuthLib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_verify.c#L69{validate the public key present in the secure element; Ctrl+Click to open in new Tab}atcab_verify(...)]]
    TrustFLEX-->CryptoAuthLib: validated


    note over OEM, TrustFLEX #FFAAAA : Rotate Public Key Securely

    note right of OEM
    1. Generate new key to load
    2. Calculate public key digest
    end note

    note left of OEM
    1. Calculate public key digest
    2. Get it Signed by
    **Validation Authority**
    end note

    note over HostMCU #00FFFF
    1. Invalidate exisiting public key
    end note
    HostMCU->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_verify.c#L447{directs host invalidate operation request to secure element; Ctrl+Click to open in new Tab}atcab_verify_invalidate(...)]]
    CryptoAuthLib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_verify.c#L69{invalidate existing public key in the secure element; Ctrl+Click to open in new Tab}atcab_verify(...)]]
    TrustFLEX-->CryptoAuthLib: invalidated
    CryptoAuthLib-->HostMCU: invalidated

    note over of TrustFLEX
    Loaded Public key is invalidated
    It cannot  be used for Verify,
    but does allow writes to slot.
    end note

    note over HostMCU #00FFFF
    2. Update New public key
    end note

    HostMCU->CryptoAuthLib:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_write.c#L379{directs host write operation request to secure element ; Ctrl+Click to open in new Tab}atcab_write_pubkey(...)]]
    CryptoAuthLib->TrustFLEX:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_write.c#L59{write new generated public key into secure element; Ctrl+Click to open in new Tab}atcab_write(...)]]
    TrustFLEX-->CryptoAuthLib:
    CryptoAuthLib-->HostMCU:


    note over HostMCU #00FFFF
    3. Validate New public key
    end note

    HostMCU->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_verify.c#L409{ directs host validate operation request to secure element; Ctrl+Click to open in new Tab}atcab_verify_validate(...)]]
    CryptoAuthLib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_verify.c#L69{validate the public key present in the secure element; Ctrl+Click to open in new Tab}atcab_verify(...)]]
    TrustFLEX-->CryptoAuthLib: validated
    CryptoAuthLib-->HostMCU: validated">

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 2. INFER CRYPTOGRAPHIC ASSETS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>Considering the above transaction diagram, the following assets are needed on ATECC608B device
    <ol><li>Validation Authority public key</li>
    <li>Public key slot to rotate the keys</li></ol></p>

    <p>Typically, Validation Authority public key will be loaded to secure element and locked permanently. This key will be used to validate/invalidate the public key in the other slot. Unless the key is validated, it can’t be used for cryptographic operations.</p>
    <p>Second slot is allocated for public key storage with configuration set for PubInvalid. This setting restricts the public key access for both writes and cryptography operations until its enabled by Validation Authority. So, this public key needs to be validated by validation authority before making it available for cryptography operations.</p>
    <p>This validation/invalidation process includes the authority signing the public key’s digest and generating the signature. Authority’s public key will be used for verifying the signature with second slot public key’s digest.</p>
    <p>Once public key is validated, public key can be used for ECC operations and cannot be overwritten by another fraudulent key.</p>
    <p>The basic steps for rotating public key update as follow:
    <ol><li>Invalidate existing public key</li>
    <li>Update (write) new rotating public key</li>
    <li>Validate new rotating public key</li></ol></p>
    <p>The public key invalidation process is same as validation with the exception that verify command mode. Once public key is invalidated, public key cannot be used for ECC operations. However, it enables access to update the slot with new public key.</p>
    <p>A new public key can be generated to rotate the current key. Once public key is generated, its digest should be signed by validation authority. Since, slot is already invalidated, new key can be overwritten to this slot.</p>
    <p>Once the slot is overwritten, it remains in the invalidate state. This state restricts any Cryptography operations. To validate this slot for cryptography operations, the digest of this slot and signature generated in the previous state should be verified using Authority public key. Once its verified successfully, slot becomes validated and is ready for Cryptography operations but no updates are allowed to slot.</p>
    </div>
    <br />
    <br />
    <h4> <i class="fa fa-angle-right"></i> 3. SECURE ELEMENT CONFIGURATION </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> TrustFLEX devices are already configured for a collection of use cases. This use case is one among them. Hence there is no separate configuration is required. </p>

    <p>Slot13 is configured to hold the Authority public key and Slot14 is configured to hold rotating public key with configuration set for PubInvalid.</p>
    </div><!-- End off accordion item-3 -->
    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 4. PROTOTYPING </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the secure element configuration, its possible to test the configuration and assets through host and secure element transactions on the prototyping platform. The required code to perform this use case is available as Jupyter Notebook and C example, Jupyter Notebooks are written in Python and are accompanied with extensive documentation.</p>
    <p>Refer to <a href="../../../docs/TrustFLEX_guide_public_key_rotation.pdf" target="_blank">Usecase step by step guide </a> for hands-on instructions. Below is the sequence of steps for prototyping an usecase,</p>
    <p><img src="assets/images/Protype Sequence.png"></p>

    <p>The <strong>TFLXTLS_resource_generator.ipynb</strong> notebook helps to generate the required resources for the use case. On executing the resource generator, secure element data zone is written with required secrets, keys, and certificates. The secrets or certificates loaded in this stage can be found in the same folder. Note that these secrets should be used ONLY for prototyping.</p>
    <p>Once the resources are generated, the secure public key rotation flow can be prototyped both on Notebook and C project.</p>
    <p>The <strong>TrustFLEX\05_public_key_rotation\notebook\TFLXTLS_public_key_rotation.ipynb</strong> notebook helps in running prototype using Crypto Auth Trust Platform. The major steps involved in this notebook are
    <ol><li>Generating a Validation Authority Key pair</li>
    <li>Rotate new public key</li>
    <li>Validate and verify rotated public key is usability</li></ol></p>
    <p><strong>TrustFLEX\05_public_key_rotation\firmware\</strong> contains the embedded project that does secure public key rotation by using TurstFLEX device on Crypto Trust Platform. This embedded project comes with required modules like CryptoAuthLib and application files.</p>
    <p>Once all the steps are performed as in step by step guide, return back here to continue with Secret Exchange Process for loading actual secrets to TrustFLEX securely.</p>
    </div><!-- End off accordion item-4 -->
    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 5. SECRET EXCHANGE PROCESS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the prototyping, it’s important to load the final secrets, keys and certificate authority details to the Secure Element. The Trust Platform Design Suite provides <strong>TrustFLEX XML Generator</strong> which helps in generating the Secret Exchange Package. </p>
    <p>Microchip will provide encryption utility to encrypt sensitive data so that only you have the knowledge of product / application specific secrets. The encrypted data are handled by Thales Hardware Secure Modules installed within our production plants across the globe.</p>
    <p>Refer to <a href = "../../../docs/TrustFLEX_guide_secret_exchange_process.pdf", target="_blank"> Secret Exchange guide</a> for detailed steps involved in secret exchange, certificate signing and tracking secure provisioning state. </p>
    </div><!-- End of accordion item 5 -->

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 6. VOLUME PROVISIONING</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> You can work with Microchip sales team to setup the custom part number and provide the package you have developed. Leverage the package from the previous step to fast track the process.</p>
    <p>Microchip will review the package and setup the part number for you to place order and build your product in volume.</p>
    </div><!-- end of accordion item-6 -->
    </div>
    </section>
    <!-- End of Secure public key Rotation -->

    <!-- Accessory / Disposable Authentication section -->
    <section id="disposable" class="lightbg roomy-100" style="display: none">
    <div class="container">
    <div class="row">
    <div class="main_disposable">
    <div class="col-md-10">
    <div class="disposable_use_case">
    <h2>Accessory / Disposable Authentication</h2>
    <div class="separator_left"></div>
    <p>The sale of counterfeit goods poses significant problems for various consumer products, including electronics, entertainment, fashion and luxury goods. Over the years, counterfeiting has become even more troublesome for various global brands. Companies are continuously searching for ways to protect property using various security implementations. However, the cost of security implementation can drive companies away from effective hardware solutions to less secure software solutions.</p>
    <p>Microchip CryptoAuthentication devices enable solutions to countless problems across many industries. This use case describes how Microchip TrustFLEX device can be used for Accessory or Disposable Authentication.</p>
    </div>
    </div>
    </div>
    </div> <!-- end of row -->
    <br>
    <br>
    </div>
    <div class="container">
    <div class="row">
    <div class="disposable">
    <div class="col-md-10">
    <div class="disposable_steps">
    <h4><i class="fa fa-angle-right"></i> 1. TRANSACTION DIAGRAM </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> The first step is to define the transaction diagram for a given use case. Here is the set of transactions required to implement an accessory authentication.</p>
    </div><!-- End off accordion item-1 -->
    <object id="svg_canvas_disposable" style="color: chocolate"></object>
    <img uml="
    title  Accessory (with TNG) Authentication
    participant HostMCU
    participant TrustFLEX
    participant CryptoAuthLib
    skinparam participantpadding 75
    skinparam boxpadding 60
    skinparam SequenceMessageAlign right

    /note over HostMCU
    HostMCU initiates
    the authentication process
    end note


    HostMCU->CryptoAuthLib: accessory_authentication(...)
    activate CryptoAuthLib
    CryptoAuthLib->Accessory_TNG: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_read.c#L123{Reads serial number for host-side MAC calculations; Ctrl+Click to open in new Tab}atcab_read_serial_number(...)]]
    Accessory_TNG-->CryptoAuthLib: Device serial number
    CryptoAuthLib->Accessory_TNG: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_nonce.c#L186{performs nonce generation on the device and return RNG used;Ctrl+Click to open in new Tab}atcab_nonce_rand(...)]]
    Accessory_TNG-->CryptoAuthLib: Device RNG
    CryptoAuthLib->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/host/atca_host.c#L97{calculate nonce on host using RNG returned by accessory device;Ctrl+Click to open in new Tab}atcah_nonce(...)]]
    CryptoAuthLib->Accessory_TNG: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_mac.c#L52{Triggers MAC calculation on the accessory device using secret key;Ctrl+Click to open in new Tab}atcab_mac(...)]]
    activate Accessory_TNG
    note right of Accessory_TNG
    Accessory device
    calculates MAC
    end note
    Accessory_TNG  -->CryptoAuthLib : Accessory Device MAC
    deactivate Accessory_TNG

    CryptoAuthLib->TrustFLEX**: Re-init Interface
    CryptoAuthLib->TrustFLEX : [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_checkmac.c#L50{verify accessory device MAC on Host TrustFLEX device;Ctrl+Click to open in new Tab}atcab_checkmac(...)]]
    activate TrustFLEX
    note left of TrustFLEX
    1. Host device calculates MAC
    2. Compare it with accessory
    device MAC
    end note
    TrustFLEX-->CryptoAuthLib: return checkmac response
    deactivate TrustFLEX
    CryptoAuthLib-->HostMCU: return Authentication status
    deactivate CryptoAuthLib
    note over HostMCU
    Host device authenticates
    the accessory device based
    on checkmac response
    end note">

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 2. INFER CRYPTOGRAPHIC ASSETS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>Considering the above transaction diagram, only one shared secret key is needed on host and accessory device for authentication process.</p>
    <p>This process uses a challenge-response model. In this model, host authenticates the accessory device based on MAC response. MAC is calculated on the accessory device to prove that it holds the secret key that is shared by the host. Then the calculated MAC will be verified by the host to authenticate the accessory.</p>
    <p>MAC calculation on accessory includes device serial number, nonce (number used once) and shared secret key. By including serial number and nonce, host can get unique MAC from each accessory every time, thereby avoiding the replay attacks.</p>
    </div>
    <br />
    <br />
    <h4> <i class="fa fa-angle-right"></i> 3. SECURE ELEMENT CONFIGURATION </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> TrustFLEX devices are already configured for a collection of use cases. This use case is one among them. Hence there is no separate configuration is required. </p>

    <p>The prototype TrustFLEX device comes with options to rewrite symmetric key along with options to lock the slot if required.</p>
    <p>However, for the production devices, as part of provisioning this slot can be marked for permanent locking to enhance the system security.</p>
    </div><!-- End off accordion item-3 -->

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 4. PROTOTYPING </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the secure element configuration, it’s possible to test the configuration and assets through host and Secure Element transactions on the prototyping platform. The required code to perform this use case is available as Jupyter Notebook and C example. Jupyter Notebooks are written in Python and are accompanied with extensive documentation.</p>
    <p>Refer to <a href="../../../docs/TrustFLEX_guide_accessory_authentication.pdf" target="_blank"> Usecase step by step guide </a> for hands-on instructions. Below is the sequence of steps for prototyping an usecase,</p>
    <p><img src="assets/images/Protype Sequence.png"></p>
    <p>The <strong>TFLXTLS_resource_generator.ipynb</strong> notebook helps to generate the required resources for the use case. On executing the resource generator, secure element data zone is written with required secrets, keys, and certificates. The secrets or certificates loaded in this stage can be found in the same folder. Note that these secrets should be used ONLY for prototyping. </p>
    <p>Once the resources are generated, the accessory authentication flow can be prototyped both on Notebook and C project</p>
    <p>The <strong>TrustFLEX\01_accessory_authentication\notebook\TFLXTLS_accessory_authentication.ipynb</strong> notebook helps in running prototype using Crypto Auth Trust Platform. The major steps involved in this notebook are</p>
    <ol><li>Generate nonce on both device</li>
    <li>Calculate MAC on Accessory device (Trust&GO)</li>
    <li>Verify accessory device MAC by Host (TrustFLEX)</li></ol>
    <p><strong>TrustFLEX\01_accessory_authentication\firmware\</strong> contains the embedded project that does accessory authentication by using TurstFLEX and Trust&GO devices on Crypto Trust Platform. This embedded project comes with required modules like CryptoAuthLib and application files.</p>
    <p>Once all the steps are performed as in step by step guide, return back here to continue with Secret Exchange Process for loading actual secrets to TrustFLEX securely.</p>
    </div><!-- End off accordion item-4 -->

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 5. SECRET EXCHANGE PROCESS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the prototyping, it’s important to load the final secrets, keys and certificate authority details to the Secure Element. The Trust Platform Design Suite provides <strong>TrustFLEX XML Generator</strong> which helps in generating the Secret Exchange Package. </p>
    <p>Microchip will provide encryption utility to encrypt sensitive data so that only you have the knowledge of product / application specific secrets. The encrypted data are handled by Thales Hardware Secure Modules installed within our production plants across the globe.
    </p>
    <p>Refer to <a href = "../../../docs/TrustFLEX_guide_secret_exchange_process.pdf", target="_blank"> Secret Exchange guide</a> for detailed steps involved in secret exchange, certificate signing and tracking secure provisioning state. </p>
    </div><!-- End of accordion item 5 -->

    <br />
    <br />
    <h4><i class="fa fa-angle-right"></i> 6. VOLUME PROVISIONING</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> You can work with Microchip sales team to setup the custom part number and provide the package you have developed. Leverage the package from the previous step to fast track the process.</p>
    <p>Microchip will review the package and setup the part number for you to place order and build your product in volume.</p>
    </div><!-- end of accordion item-6 -->
    </div>
    </section>
    <!-- End of Accessory / Disposable Authentication section -->

    <!-- Custom PKI section -->
    <section id="customPKI" class="roomy-100" style="display: none">
    <div class="container">
    <div class="row">
    <div class="col-md-10">
    <div class="customPKI_use_case">
    <h2>Custom Public Key Infrastructure</h2>
    <div class="separator_left"></div>
    <p>Transport Layer Security 1.2 (TLS 1.2) has become the de facto standard for connecting embedded systems to a network.  While TLS 1.2 is undeniably robust, an embedded system still requires a unique, secure and trusted identity to prevent large-scale remote attacks. For example, a malicious attack can cause a hospital power grid to go down and potentially risk human lives, interrupt online services and advertising activities resulting in a loss of revenue, or suspend the production capabilities of industrial plants and their supply chains to almost instantaneously affect their profitability.</p>
    <p>Securing communication with a Cloud service and manipulating keys comes with many challenges: storing and using keys in the microcontroller exposes them, operating systems and software have bugs, the Heartbleed bug for OpenSSL was notable by easily exposing keys. When combined with the TLS 1.2 protocol, Microchip’s ATECC608B Crypto Authentication device offers a unique, trusted, and verifiable identity that can help protect billions of connected devices by physically isolating keys and secrets from the application.</p>
    <p> This use case demonstrates the PKI infrastructure in getting to AWS and Azure cloud services.</p>
    </div>
    </div>
    </div> <!-- end of row -->
    <br>
    <br>
    </div>
    <div class="container">
    <div class="row">
    <div class="custom_pki">
    <div class="col-md-10">
    <div class="custom_pki_steps">
    <h4><i class="fa fa-angle-right"></i> 1. Transaction Diagram </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> The first step is to define the transaction diagram for a given use case. Here is the set of transactions required to implement a public key infrastructure authentication with a Cloud service.</p>
    </div><!-- End off accordion item-1 -->
    <object id="svg_canvas_cust_pki" style="color: chocolate"></object>
    <img uml="
    title  AWS & Azure Connect with Custom PKI
    skinparam boxpadding 50
    skinparam participantpadding 50
    participant OEM
    box HOST
    participant TrustFLEX
    participant CryptoAuthLib
    participant HostMCU
    participant WINC1500
    end box
    participant Cloud

    note over OEM
    1. Generate/use Root certificate
    2. Generate/use Signer certificate
    end note

    /note over Cloud
    1. Setup User Test Account
    2. Register Signer certificate
    end note

    note over WINC1500, Cloud #00FFFF
    <&wifi> connected via ...WIFI... <&wifi>
    end note


    note over WINC1500, TrustFLEX #FFAAAA
    LOADING CERTIFICATE TO WINC1500
    end note


    HostMCU->CryptoAuthLib:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/atcacert/atcacert_client.c#L112{Reads certificates from Secure Element; Ctrl+Click to open in new Tab}atcacert_read_cert(...)]]


    CryptoAuthLib->TrustFLEX:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_read.c#L57{Reads certificate bytes from Secure Element slot; Ctrl+Click to open in new Tab}atcab_read_zone(...)]]
    TrustFLEX-->CryptoAuthLib:signer_cert, dev_cert
    CryptoAuthLib-->HostMCU:signer_cert, dev_cert


    HostMCU->WINC1500: [[https://github.com/MicrochipTech/cryptoauth_trustplatform_designsuite/blob/29b613150590ba1e78c8c3a19f0b784c973c77f5/TrustFLEX/10_cloud_connect/firmware/src/common/cloud_wifi_ecc_process.c#L382{Copies the Device and Signer certicates to WINC module for connecting to AWS Cloud; Ctrl+Click to open in new Tab}ecc_transfer_certificates(...)]]

    note over WINC1500, Cloud #00FFFF
    Establish TLS connection
    end note

    note over WINC1500, TrustFLEX #FFAAAA
    ECC MATH OPERATIONS
    end note

    WINC1500->HostMCU: ECC_MATH_OPERATIONS
    HostMCU-->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauth_trustplatform_designsuite/blob/29b613150590ba1e78c8c3a19f0b784c973c77f5/TrustFLEX/10_cloud_connect/firmware/src/common/cloud_wifi_ecc_process.c#L247{Directs WINC ECC math operation request to Secure element; Ctrl+Click to open in new Tab}ecc_process_request(...)]]
    CryptoAuthLib-->TrustFLEX: ECC command to device
    TrustFLEX-->CryptoAuthLib: response
    CryptoAuthLib-->HostMCU:
    HostMCU-->WINC1500: ECC_MATH_RESULT

    note over WINC1500, Cloud #00FFFF
    TLS connection established
    end note

    note over WINC1500, HostMCU #FFAAAA
    COMMUNICATION WITH Cloud
    end note


    HostMCU->WINC1500: Communicate using MQTT
    WINC1500-->HostMCU: response">

    <br/><br/><h4><i class="fa fa-angle-right"></i> 2. Infer Cryptographic Assets </h4>
    <div class="separator_left"></div>
    <div class="content">
    Considering the above transaction diagram, the following assets are needed on ATECC608B device.
    <ol><li>Device private key</li>
    <li>Device certificate</li>
    <li>Signer certificate</li>
    <li>Signer public key</li></ol>
    <p>While setting up a secure communication with cloud service, both the device and signer certificate details are required. When a device tries to establish connection with cloud IoT, Device Certificate will be used to fetch the device details and Signer Certificate will be used to verify the authenticity of the device certificate.</p>
    <p>Device certificate will be generated based on the Public Key generated from Device Private Key. Device private key is unique one for each device. ATECC608B generates and stores its private key. This key can never leave ATECC608B. Associated Public key would be read from device and be used to generate the device CSR. Once the device CSR is generated, it needs to be certified through Signer to become the certificate.</p>
    <p>The Device certificate generated above needs to be written to secure element (as compressed certificate) for further use.</p>
    <p>Signer Public key helps in validating the device certificate before it being used for secure connections.                       </p></div><!-- End off accordion item-2 -->
    <br /><br /><h4> <i class="fa fa-angle-right"></i> 3. Secure Element Configuration </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>TrustFLEX devices are already configured for a collection of use cases. This use case is one among them. Hence there is no separate configuration is required. </p>
    <p>The prototype TrustFLEX devices comes with options to rewrite device and signer certificates along with options to lock the slot on need. </p>
    <p>However, for the production devices, as part of provisioning some of these slots can be marked for permanent locking to enhance the system security.</p>
    </div><!-- End off accordion item-3 -->

    <br /><br /><h4><i class="fa fa-angle-right"></i> 4. Prototyping</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the secure element configuration, it’s possible to test the configuration and assets through host and Secure Element transactions on the prototyping platform.</p>
    <p>Naturally, you need to have an Cloud IoT test account setup for the device to authenticate to. Instructions on how to quickly setup and configure such account can be found in following links. It also provide links for hands-on instructions on how to prototype this use case with TrustFLEX.
    <h4>AWS</h4>
    <ol><li>Account Setup guide - <a href="../../../docs/TrustFLEX_guide_AWS_demo_account_setup.pdf" target="_blank">AWS IoT with JITR Test account step by step guide</a></li>
    <li>Usecase Step by Step Guide - <a href="../../../docs/TrustFLEX_guide_custom_PKI_AWS.pdf" target="_blank"> AWS Connect Usecase step by step guide</a></li></ol>
    <h4>Azure</h4>
    <ol><li>Account Setup guide - <a href="../../../docs/TrustFLEX_guide_Azure_demo_account_setup.pdf" target="_blank">Azure IoT Test account step by step guide</a></li>
    <li>Usecase Step by Step Guide - <a href="../../../docs/TrustFLEX_guide_custom_PKI_Azure.pdf" target="_blank"> Azure Connect Usecase step by step guide </a></li></ol></p>
    <p>Below are the sequence of steps for prototyping an usecase,</p>
    <p><img src="assets/images/Protype Sequence.png"></p>
    <p>The required code to perform this use case is available as Jupyter Notebook and C example. Jupyter Notebooks are written in Python and are accompanied with extensive documentation. </p>
    <p>The <strong>TFLXTLS_resource_generator.ipynb</strong> notebook helps to generate the required resources for the use case. On executing the resource generator, secure element data zone is written with required secrets, keys, and certificates. The secrets or certificates loaded in this stage can be found in the same folder.</p>
    <p>On executing this resource generator, secure element data zone is written with required secrets, keys, and certificates. The secrets or certificates loaded in this stage can be found in the same folder.</p>
    <p>Once the assets are created, for this use case it’s required to register the signer certificate to users account.</p>
    <h4>AWS</h4>
    <p><strong>TrustFLEX\10_cloud_connect\notebook\aws\TFLXTLS_aws_connect.ipynb</strong> Notebook helps to register the signer certificate to user AWS account. Once AWS account is set-up for JITR(Just In Time Registration) connection, on the first attempt of device connect it verifies the authenticity and allows to communicate with AWS-IoT.</p>
    <p><strong>TrustFLEX\10_cloud_connect\firmware</strong> contains the embedded project that helps connecting Crypto Trust Platform with WIFI7 click board to AWS-IoT. This embedded project comes with required modules, like CryptoAuthLib, WINC stack, MQTT stack etc.., that are needed to establish communication with AWS. It is required to choose build configuration as AWS_PKI_Cloud, provide details like Wifi SSID, Password and AWS endpoint i.e. url to connect user account.</p>
    <h4>Azure</h4>
    <p><strong>TrustFLEX\10_cloud_connect\notebook\azure\TFLXTLS_azure_connect.ipynb</strong> Notebook helps to register the signer and device to user account. Once account is set-up and both signer and device is registered, on device connect attempt, Azure IoT Hub verifies the authenticity and allows to communicate with it.</p>
    <p><strong>TrustFLEX\10_cloud_connect\firmware</strong> contains the embedded project that helps connecting Crypto Trust Platform with WIFI7 click board to Azure IoT Hub. This embedded project comes with required modules, like CryptoAuthLib, WINC stack, MQTT stack etc.., that are needed to establish communication with Azure IoT Hub. It is required to choose build configuration as Azure_PKI_Cloud, provide details like Wifi SSID, Password and Azure IoT Hub Hostname.</p>
    <p>Once all the steps are performed as in step by step guide, return back here to continue with Secret Exchange Process for loading actual secrets to TrustFLEX securely.</p>
    </div><!-- End of accordion item 5 -->

    <br /><br /><h4><i class="fa fa-angle-right"></i> 5. SECRET EXCHANGE PROCESS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the prototyping, its important to load the final secrets, keys and certificate authority details to the Secure Element. The Trust Platform Design Suite provides <strong>TrustFLEX XML Generator</strong> which helps in generating the Secret Exchange Package. </p>
    <p>Microchip will provide encryption utility for you to encrypt sensitive data as you share, so that only you have the knowledge of product / application specific secrets. The encrypted data are handled by Thales Hardware Secure Modules installed within our production plants across the globe.</p>
    <p>Refer to <a href = "../../../docs/TrustFLEX_guide_secret_exchange_process.pdf", target="_blank"> Secret Exchange guide</a> for detailed steps involved in secret exchange, certificate signing and tracking secure provisioning state. </p>
    </div><!-- end of accordion item-6 -->

    <br /><br /><h4><i class="fa fa-angle-right"></i> 6. Volume Provisioning</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>You can work with Microchip sales team to setup the custom part number and provide the package you have developed. Leverage the package from the previous step to fast track the process. </p>
    <p>Microchip will review the package and setup the part number for you to place order and build your product in volume.</p>
    </div><!-- end of accordion item-6 -->
    </div>
    </section>

    <!-- Google IoT section -->
    <section id="cloud_gcp_tflex" class="roomy-100" style="display: none">
    <div class="container">
    <div class="row">
    <div class="col-md-10">
    <div class="cloud_gcp_tflex_use_case">
    <h2>Cloud Connect Google IoT</h2>
    <div class="separator_left"></div>
    <p>Transport Layer Security 1.2 (TLS 1.2) has become the de facto standard for connecting embedded systems to a network.  While TLS 1.2 is undeniably robust, an embedded system still requires a unique, secure and trusted identity to prevent large-scale remote attacks. For example, a malicious attack can cause a hospital power grid to go down and potentially risk human lives, interrupt online services and advertising activities resulting in a loss of revenue, or suspend the production capabilities of industrial plants and their supply chains to almost instantaneously affect their profitability.</p>
    <p>Securing communication with a Cloud service and manipulating keys comes with many challenges: storing and using keys in the microcontroller exposes them, operating systems and software have bugs, the Heartbleed bug for OpenSSL was notable by easily exposing keys. When combined with the TLS 1.2 protocol, Microchip’s ATECC608B Crypto Authentication device offers a unique, trusted, and verifiable identity that can help protect billions of connected devices by physically isolating keys and secrets from the application.</p>
    <p> The ATECC608B combined with Google Cloud IoT Core from Google Cloud Platform enables secure authentication. The philosophy with secure elements in IoT is to provide a unique, trusted and protected identity. To achieve the objective, the identity provisioned to the hardware must be genuine and the cloud platform needs to be able to trust it.</p>
    <p>Google IoT Core supports JSON Web Token-based authentication and No TLS dependence due to the JWT architecture. The Google IoT Core architecture offers you a simple Application Programming Interface (API) to implement JWT token-based authentication. Since the implementation relies only on a single public/private key pair and no certificates are involved. A JWT token is created by the controller using the CryptoAuthLib™ library. The token is then presented to the secure element that protects the private key. The JWT token is signed with the private key located inside the secure boundary of the ATECC608B. The corresponding public key is provided in a manifest file and uploaded to the Google side. This public key is used in Google IoT Core to verify that the signed JWT can be trusted.</p>
    </div>
    </div>
    </div> <!-- end of row -->
    <br>    <br>
    </div>
    <div class="container">
    <div class="row">
    <div class="cloud_gcp_tflex">
    <div class="col-md-10">
    <div class="cloud_gcp_tflex_steps">
    <h4><i class="fa fa-angle-right"></i> 1. Transaction Diagram </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p> The first step is to define the transaction diagram for a given use case. Here is the set of transactions required to implement a Cloud connect for Google Cloud Platform IoT</p>
    </div><!-- End off accordion item-1 -->
    <object id="svg_canvas_cloud_gcp_tflex" style="color: chocolate"></object>
    <img uml="
    title  Google Connect with TrustFLEX
    skinparam boxpadding 50
    skinparam participantpadding 50
    participant OEM
    box HOST
    participant TrustFLEX
    participant CryptoAuthLib
    participant HostMCU
    participant WINC1500
    end box
    participant GCP

    note over OEM
    1. Order TrustFLEX devices
    2. Download Manifest files
       from Microchip Direct
    end note

    /note over GCP
    Setup GCP Account
    1. Upload Manifest files and
       Register devices
    end note

    note over WINC1500, GCP #00FFFF
    <&wifi> connected via ...WIFI... <&wifi>
    end note

    note over WINC1500, GCP #00FFFF
    Establish TLS connection
    end note

    note over WINC1500, GCP #00FFFF
    TLS connection established
    end note

    note over WINC1500, HostMCU #FFAAAA
    COMMUNICATION WITH GCP
    end note

    note over HostMCU
    Generate JWT (JSON Web Token)
    end note

    HostMCU-->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauth_trustplatform_designsuite/blob/29b613150590ba1e78c8c3a19f0b784c973c77f5/TrustFLEX/10_cloud_connect/firmware/src/common/cloud_wifi_config.c#L120{Generate Device password to connect with GCP; Ctrl+Click to open in new Tab}config_get_client_password(...)]]
    CryptoAuthLib-->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/jwt/atca_jwt.c#L64{Intialise JWT ; Ctrl+Click to open in new Tab}atca_jwt_init(...)]]

    CryptoAuthLib-->CryptoAuthLib: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/jwt/atca_jwt.c#L251{Adds the data to buffer for JWT generation ; Ctrl+Click to open in new Tab}atca_jwt_add(...)]]
    CryptoAuthLib->TrustFLEX: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/jwt/atca_jwt.c#L105{Generates JWT by signing the data with device private key; Ctrl+Click to open in new Tab}atca_jwt_finalize(...)]]
    TrustFLEX->TrustFLEX: ECC sign command to device
    TrustFLEX -> CryptoAuthLib: JWT
    CryptoAuthLib-->HostMCU: JWT

    HostMCU->WINC1500: MQTT connect with JWT
    WINC1500->GCP:
    GCP->WINC1500:
    WINC1500-->HostMCU: response">

    <br/><br/><h4><i class="fa fa-angle-right"></i> 2. Infer Cryptographic Assets </h4>
    <div class="separator_left"></div>
    <div class="content">
    Considering the above transaction diagram, device private key is needed on ATECC608B.</li>
    </div>
    <br /><br /><h4> <i class="fa fa-angle-right"></i> 3. Secure Element Configuration </h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>TrustFLEX devices are already configured for a collection of use cases. This use case is one among them. Hence there is no separate configuration is required. </p>
    <p>The prototype TrustFLEX devices comes with private key already generated and locked. Hence there is no seperate configuration is required. The associated Public Key would be used for connecting to Google IoT.</p>
    </div><!-- End off accordion item-3 -->

    <br /><br /><h4><i class="fa fa-angle-right"></i> 4. Prototyping</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the secure element configuration, it’s possible to test the configuration and assets through host and Secure Element transactions on the prototyping platform.</p>
    <p>Naturally, you need to have an Google IoT test account setup for the device to authenticate to. Instructions on how to quicly setup and configure such account can be found here: <a href="../../../docs/TrustFLEX_guide_GCP_demo_account_setup.pdf" target="_blank">Google IoT Test account step by step guide</a></p>
    <p>Refer to <a href="../../../docs/TrustFLEX_guide_GCP_connect.pdf" target="_blank"> Usecase step by step guide </a> for hands-on instructions on how to prototype this use case with TrustFLEX. Below are the sequence of steps for prototyping an usecase,</p>
    <p><img src="assets/images/Protype Sequence.png"></p>
    <p>The required code to perform this use case is available as Jupyter Notebook and C example. Jupyter Notebooks are written in Python and are accompanied with extensive documentation. </p>
    <p>The <strong>TrustFLEX\00_resource_generation\TFLXTLS_resource_generator.ipynb</strong> notebook helps to generate the required Manifest file and associated validation certificates. </p>
    <p>Once the assets are created, for this use case it’s required to register the device to Google IoT account. <strong>TrustFLEX\10_cloud_connect\notebook\gcp\TFLXTLS_GCP_connect.ipynb</strong> Notebook helps to register device to user GCP account using Manifest file. Once GCP account is set-up and device is registered, cloud verifies the authenticity and allows to communicate with GCP IoT.</p>
    <p><strong>TrustFLEX\10_cloud_connect\firmware</strong> contains the embedded project that helps connecting Crypto Trust Platform with WIFI7 click board to GCP IoT. This embedded project comes with required modules, like CryptoAuthLib, WINC stack, MQTT stack etc.., that are needed to establish communication with GCP IoT. It is required to choose build configuration as Google_Cloud, provide details like Wifi SSID, Password and registry details.</p>
    <p>Once all the steps are performed as in step by step guide, return back here to continue with Secret Exchange Process for loading actual secrets to TrustFLEX securely.</p>
    </div><!-- End of accordion item 5 -->

    <br /><br /><h4><i class="fa fa-angle-right"></i> 5. SECRET EXCHANGE PROCESS</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>On completing the prototyping, its important to load the final secrets, keys and certificate authority details to the Secure Element. The Trust Platform Design Suite provides <strong>TrustFLEX XML Generator</strong> which helps in generating the Secret Exchange Package. </p>
    <p>Microchip will provide encryption utility for you to encrypt sensitive data as you share, so that only you have the knowledge of product / application specific secrets. The encrypted data are handled by Thales Hardware Secure Modules installed within our production plants across the globe.</p>
    <p>Refer to <a href = "../../../docs/TrustFLEX_guide_secret_exchange_process.pdf", target="_blank"> Secret Exchange guide</a> for detailed steps involved in secret exchange, certificate signing and tracking secure provisioning state. </p>
    </div><!-- end of accordion item-6 -->

    <br /><br /><h4><i class="fa fa-angle-right"></i> 6. Volume Provisioning</h4>
    <div class="separator_left"></div>
    <div class="content">
    <p>You can work with Microchip sales team to setup the custom part number and provide the package you have developed. Leverage the package from the previous step to fast track the process. </p>
    <p>Microchip will review the package and setup the part number for you to place order and build your product in volume.</p>
    </div><!-- end of accordion item-6 -->
    </div>
    </section>

    <!-- Accessory / Disposable Asym Authentication section -->
    <section id="disposable_asym_tflx" class="lightbg roomy-100" style="display: none">
        <div class="container">
        <div class="row">
        <div class="main_disposable">
        <div class="col-md-10">
        <div class="disposable_use_case">
        <h2>Accessory / Disposable - Asymmetric Authentication</h2>
        <div class="separator_left"></div>
        <p>In terms of computer security, Asymmetric Authentication is a process in which two entities exchange information to authenticate the identity of the other. The purpose of authentication is to prevent cloning and counterfeiting and to ensure that an object is genuine and authorized to connect to a product.</p>
        <p>In this use case example, we will authenticate an object. It can be an accessory, peripheral, battery, or cartridge. Generally, an object that is removable and replaceable by the consumer. The purpose of authenticating an object is to ensure that it is genuine and it is authorized to connect to a product. Another purpose is to prevent cloning and counterfeiting.</p>
        <p>Asymmetric authentication uses asymmetric key algorithms (also known as public key cryptography) where each entity has a public and private key.</p>
        </div>
        </div>
        </div>
        </div> <!-- end of row -->
        <br>
        <br>
        </div>
        <div class="container">
        <div class="row">
        <div class="disposable">
        <div class="col-md-10">
        <div class="disposable_steps">
        <h4><i class="fa fa-angle-right"></i> 1. TRANSACTION DIAGRAM </h4>
        <div class="separator_left"></div>
        <div class="content">
        <p> The first step is to define the transaction diagram for a given use case. Here is the set of transactions required to implement an accessory authentication.</p>
        </div><!-- End off accordion item-1 -->
        <object id="svg_canvas_asymm_auth_tflx" style="color: chocolate"></object>
        <img uml="
        title Asymmetric Authentication (TFLXTLS)
        participant OEM
        participant HostMCU
        participant CryptoAuthLib
        participant TrustFLEX
        skinparam participantpadding 75

        note over OEM, TrustFLEX #FFAAAA : Setup

        note right of TrustFLEX
        **TFLXTLS** is part of Accessory
        end note

        note left of OEM
        **Custom Certificates**
            - Update certs using Resource generation
            - Provide custom cert definitions to HostMCU
            - Provide root public key to HostMCU
        end note

        note over HostMCU, TrustFLEX #FFAAAA : Client: Rebuild Certs

        HostMCU->CryptoAuthLib:Signer Cert: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/atcacert/atcacert_client.c#L112{Read certificate; Ctrl+Click to open in new Tab}atcacert_read_cert(...)]]
        CryptoAuthLib->TrustFLEX:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_read.c#L57{Read Zone; Ctrl+Click to open in new Tab}atcab_read_zone(...)]]
        TrustFLEX-->CryptoAuthLib:
        CryptoAuthLib-->HostMCU:

        HostMCU->CryptoAuthLib:Device Cert: [[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/atcacert/atcacert_client.c#L112{Read certificate; Ctrl+Click to open in new Tab}atcacert_read_cert(...)]]
        CryptoAuthLib->TrustFLEX:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_read.c#L57{Read Zone; Ctrl+Click to open in new Tab}atcab_read_zone(...)]]
        TrustFLEX-->CryptoAuthLib:
        CryptoAuthLib-->HostMCU:


        note over HostMCU, TrustFLEX #FFAAAA : Host: Verify Cert Chain
        HostMCU-->HostMCU: Verify Signer cert with CA
        HostMCU-->HostMCU:  Verify Device cert  with CA

        note over HostMCU, TrustFLEX #FFAAAA : Challenge-Response-Verify
        HostMCU->CryptoAuthLib:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/atcacert/atcacert_client.c#L47{Get challenge response from device; Ctrl+Click to open in new Tab}atcacert_get_response(...)]]
        CryptoAuthLib->TrustFLEX:[[https://github.com/MicrochipTech/cryptoauthlib/blob/1cb00def6dba72e82465a5a8584e7f2a98195e24/lib/calib/calib_sign.c#L113{Get challenge signed by device; Ctrl+Click to open in new Tab}atcab_sign(...)]]
        TrustFLEX-->CryptoAuthLib: Accessory response (Signature for Challenge)
        CryptoAuthLib-->HostMCU: Accessory response

        HostMCU-->HostMCU:  Verify response with Public Key

        note over HostMCU
        HostMCU authenticates Accessory
        based on result
        end note
        ">

        <br />
        <br />
        <h4><i class="fa fa-angle-right"></i> 2. INFER CRYPTOGRAPHIC ASSETS</h4>
        <div class="separator_left"></div>
        <div class="content">
        <p>Considering the above transaction diagram, the following assets are needed on TrustFLEX device.
        <ol><li>Device private key</li>
            <li>Device certificate</li>
            <li>Signer certificate</li>
            <li>Signer public key</li></ol></p>
        <p>Client (Device) authentication will be done in two stages. First stage is verifying the certificate chain validity and the second stage is verifying the client’s public key. Host asks for Signer and Device certificates to verify thier signatures using Root's public key.</p>
        <p>Device certificate will be generated based on the Device's public key. TrustFLEX device can generate and store its private key. This key can never leave TrustFLEX, associated Public key would be read from the device and be used to generate the device CSR. Once the device CSR is generated, it needs to be certified through Signer to become the certificate. This Device certificate would be written to secure element along with Signer ceritificate (as compressed certificate) and Signer Public Key for further use. Signer Public key helps in validating the device certificate before it being used for secure connections. </p>
        <p>In this example, Root's Public key is available with the host. Using this key, first the Signer certificate would be validated. Once the Signer certificate is validated, Public key of this certificate will be extracted. Using this key, the client’s (Device) certificate would be validated. Once the client’s (Device) certificate is validated, Public key will be extracted. In this example, the validation is limited only to signature verification.</p>
        <p>Its time now to verify the client contains the associated private key or not. This would be achieved by asking the client to sign a random number, often called a challenge or nonce, with its private key. If the host is then able to verify the signature with the client’s public key, it can be confident that the certificates indeed belong to the device they came from.</p>
        </div>
        <br />
        <br />
        <h4> <i class="fa fa-angle-right"></i> 3. SECURE ELEMENT CONFIGURATION </h4>
        <div class="separator_left"></div>
        <div class="content">
        <p> TrustFLEX devices are already configured for a collection of use cases. This use case is one among them. Hence there is no separate configuration is required. </p>

        <p>The prototype TrustFLEX device comes with options to rewrite Signer and Device certificates with custom certificates. This can be done using resource generation.</p>
        <p>However, for the production devices, as part of provisioning this slot can be marked for permanent locking to enhance the system security.</p>
        </div><!-- End off accordion item-3 -->

        <br />
        <br />
        <h4><i class="fa fa-angle-right"></i> 4. PROTOTYPING </h4>
        <div class="separator_left"></div>
        <div class="content">
        <p>On completing the secure element configuration, it’s possible to test the configuration and assets through host and Secure Element transactions on the prototyping platform. The required code to perform this use case is available as Jupyter Notebook and C example. Jupyter Notebooks are written in Python and are accompanied with extensive documentation.</p>
        <p>Refer to <a href="../../../docs/TrustFLEX_guide_accessory_asym_authentication.pdf" target="_blank"> Usecase step by step guide </a> for hands-on instructions. Below is the sequence of steps for prototyping an usecase,</p>
        <p><img src="assets/images/Protype Sequence.png"></p>
        <p>The <strong>TFLXTLS_resource_generator.ipynb</strong> notebook helps to generate the required resources for the use case. On executing the resource generator, secure element data zone is written with required secrets, keys, and certificates. The secrets or certificates loaded in this stage can be found in the same folder. Note that these secrets should be used ONLY for prototyping. </p>
        <p>Once the resources are generated, the accessory asymmetric authentication flow can be prototyped both on Notebook and C project</p>
        <p>The <strong>TrustFLEX\08_asymmetric_authentication\notebook\TFLXTLS_asymmetric_authentication.ipynb</strong> notebook helps in running prototype using Crypto Auth Trust Platform. The major steps involved in this notebook are,
            <ol><li>Rebuilding Signer and Device certificates</li>
            <li>Verifying chain of trust</li>
            <li>verifying Device Private key</li></ol></p>
        <p><strong>TrustFLEX\08_asymmetric_authentication\firmware\</strong> contains the embedded project that does accessory authentication by using TurstFLEX devices on Crypto Trust Platform. This embedded project comes with required modules like CryptoAuthLib and application files.</p>
        <p>Once all the steps are performed as in step by step guide, return back here to continue with Secret Exchange Process for loading actual secrets to TrustFLEX securely.</p>
        </div><!-- End off accordion item-4 -->

        <br />
        <br />
        <h4><i class="fa fa-angle-right"></i> 5. SECRET EXCHANGE PROCESS</h4>
        <div class="separator_left"></div>
        <div class="content">
        <p>On completing the prototyping, it’s important to load the final secrets, keys and certificate authority details to the Secure Element. The Trust Platform Design Suite provides <strong>TrustFLEX XML Generator</strong> which helps in generating the Secret Exchange Package. </p>
        <p>Microchip will provide encryption utility to encrypt sensitive data so that only you have the knowledge of product / application specific secrets. The encrypted data are handled by Thales Hardware Secure Modules installed within our production plants across the globe.
        </p>
        <p>Refer to <a href = "../../../docs/TrustFLEX_guide_secret_exchange_process.pdf", target="_blank"> Secret Exchange guide</a> for detailed steps involved in secret exchange, certificate signing and tracking secure provisioning state. </p>
        </div><!-- End of accordion item 5 -->

        <br />
        <br />
        <h4><i class="fa fa-angle-right"></i> 6. VOLUME PROVISIONING</h4>
        <div class="separator_left"></div>
        <div class="content">
        <p> You can work with Microchip sales team to setup the custom part number and provide the package you have developed. Leverage the package from the previous step to fast track the process.</p>
        <p>Microchip will review the package and setup the part number for you to place order and build your product in volume.</p>
        </div><!-- end of accordion item-6 -->
        </div>
    </section>
    <!-- End of Accessory / Disposable Asym Authentication section -->

    <!--TrustFLEX Configuration Section-->
        <section id="trustflex_config" class="trustflex_config">
            <div class="container">
                <div class="row">
                    <div class="main_trustflex_config text-center">
                        <div class="col-sm-12">
                            <div class="head_title text-left">
                                <h2>TrustFLEX CONFIGURATION</h2>
                                <div class="separator_left"></div>

                                <div style="overflow-x:auto">
                                    <form id="slotdataform">
                                        <h4>TrustFLEX XML Generator</h4>
                                        <br />

                                        <!-- To choose between i2c and swi device type -->
                                        <strong>Choose TrustFLEX device interface:</strong>
                                        <br />
                                        <input id="devI2cIfaceId" type="radio" name="devIface"
                                            value="i2c" checked="checked">
                                        <label class="radiotext" for="devI2cIfaceId"> I2C</label>
                                        <br />
                                        <input id="devSwiIfaceId" type="radio" name="devIface"
                                            value="swi">
                                        <label class="radiotext" for="devSwiIfaceId"> SWI</label>
                                        <br />
                                        <br />

                                        <p>Click on table rows for more info.</p>
                                        <table class="table table-hover table-responsive slotdata" id="tflexdata">
                                            <tr class="TrPresets">
                                                <th width="10%">Slot Number</th>
                                                <th width="20%">Slot Use-case</th>
                                                <th width="40%">Description</th>
                                                <th width="30%">Slot Property</th>
                                            </tr>
                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slotnext" class="accordian-body collapse">
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr data-toggle="collapse" data-target="#slot0ext"
                                                class="accordion-toggle TrPresets" id="Slot0">
                                                <td class="aligncenter">Slot 0</td>
                                                <td>Primary private key</td>
                                                <td>Primary authentication key.</td>
                                                <td>Permanent, Ext Sign, ECDH</td>
                                                <td></td>
                                            </tr>
                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot0ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 0</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            It's permanent to support a "factory reset" option where the
                                                            original credentials are always available. It also prevents
                                                            Denial-Of-Service attacks where the key is changed, either
                                                            intentionally or by accident.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            Private key is generated and locked, no further
                                                            modifications can be made to the slot.
                                                            <br /><br />
                                                            <input disabled
                                                                class="slotTextDisabled advancedSearchTextboxReduced placeholder"
                                                                type="text" name="slot0"
                                                                placeholder="Slot data is not user writable">
                                                            <br /><br />
                                                        </p>

                                                    </div>
                                                </td>
                                            </tr>
                                            <tr data-toggle="collapse" data-target="#slot1ext"
                                                class="accordion-toggle TrPresets" id="Slot1">
                                                <td class="aligncenter">Slot 1</td>
                                                <td>Internal sign private key</td>
                                                <td>Private key that can only be used to attest internal keys and state
                                                    of the a device. Can't be used to sign arbitrary messages.</td>
                                                <td>Permanent, Int Sign</td>
                                            </tr>
                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot1ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 1</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            The internal sign key can support key attestation (proving a
                                                            key is securely held in the ATECC608B) during key rotation
                                                            operations with the secondary private keys.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            Private key is generated and locked, no further
                                                            modifications can be made to the slot. This slot can be used
                                                            only for internal sign operation.
                                                            <br /><br />
                                                            <input disabled
                                                                class="slotTextDisabled advancedSearchTextboxReduced placeholder"
                                                                type="text" name="slot0"
                                                                placeholder="Slot data is not user writable">
                                                            <br /><br />
                                                        </p>
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr data-toggle="collapse" data-target="#slot2ext"
                                                class="accordion-toggle TrPresets" id="Slot2">
                                                <td class="aligncenter">Slot 2</td>
                                                <td>Secondary private key 1</td>
                                                <td>Secondary private key for other uses.</td>
                                                <td>Updatable, Ext Sign, ECDH, Lockable</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot2ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 2</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br>
                                                            These keys don't have a specified purpose, but allow
                                                            authentication with additional systems using separate keys.
                                                            The keys can be changed if needed or locked if the user
                                                            wants them permanent. If the keys are changed, key
                                                            attestation can performed with the Internal signer private
                                                            key to prove the new key is in the ATECC608B, if required.
                                                            <br><br>
                                                            <strong>Provisioning:</strong><br>
                                                            This private key can be updated internally using the GenKey
                                                            command. Data to this slot is genererated internally, slot
                                                            data is not user writable.
                                                            <br><br>
                                                        </p>
                                                            <input disabled
                                                                class="slotTextDisabled advancedSearchTextboxReduced placeholder"
                                                                type="text" name="slot0"
                                                                placeholder="Slot data is not user writable">
                                                            <br /><br />
                                                            <div class="slotLockVisibility">
                                                                <strong>Slot Lock:</strong><br>
                                                                If the following checkbox is checked, the contents of
                                                                the slot cannot be modified under any
                                                                circumstances.<br>
                                                                <table class="slotlock" cellspacing="10"
                                                                    cellpadding="10">
                                                                    <tr>
                                                                        <td>Slot lock </td>
                                                                        <td><input type="checkbox"
                                                                                name="fancy-checkbox-default"
                                                                                id="slotlock2"
                                                                                autocomplete="off" /></td>
                                                                    </tr>
                                                                </table>
                                                            <br>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot3ext"
                                                class="accordion-toggle TrPresets" id="Slot3">
                                                <td class="aligncenter">Slot 3</td>
                                                <td>Secondary private key 2</td>
                                                <td>Secondary private key for other uses.</td>
                                                <td>Updatable, Ext Sign, ECDH, Lockable</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot3ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 3</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            These keys don't have a specified purpose, but allow
                                                            authentication with additional systems using separate keys.
                                                            The keys can be changed if needed or locked if the user
                                                            wants them permanent. If the keys are changed, key
                                                            attestation can performed with the Internal signer private
                                                            key to prove the new key is in the ATECC608B, if required.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            This private key can be updated internally using the GenKey
                                                            command. Data to this slot is genererated internally, slot
                                                            data is not user writable.
                                                            <br /><br />
                                                            <input disabled
                                                                class="slotTextDisabled advancedSearchTextboxReduced placeholder"
                                                                type="text" name="slot0"
                                                                placeholder="Slot data is not user writable">
                                                            <br /><br />
                                                            <div class="slotLockVisibility">
                                                                <strong>Slot Lock:</strong><br>
                                                                If the following checkbox is checked, the contents of
                                                                the slot cannot be modified under any
                                                                circumstances.<br>
                                                                <table class="slotlock" cellspacing="10"
                                                                    cellpadding="10">
                                                                    <tr>
                                                                        <td>Slot lock </td>
                                                                        <td><input type="checkbox"
                                                                                name="fancy-checkbox-default"
                                                                                id="slotlock3"
                                                                                autocomplete="off" /></td>
                                                                    </tr>
                                                                </table>
                                                            <br>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot4ext"
                                                class="accordion-toggle TrPresets" id="Slot4">
                                                <td class="aligncenter">Slot 4</td>
                                                <td>Secondary private key 3</td>
                                                <td>Secondary private key for other uses.</td>
                                                <td>Updatable, Ext Sign, ECDH, Lockable</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot4ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 4</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br>
                                                            These keys don't have a specified purpose, but allow
                                                            authentication with additional systems using separate keys.
                                                            The keys can be changed if needed or locked if the user
                                                            wants them permanent. If the keys are changed, key
                                                            attestation can performed with the Internal signer private
                                                            key to prove the new key is in the ATECC608B, if required.
                                                            <br><br>
                                                            <strong>Provisioning:</strong><br>
                                                            This private key can be updated internally using the GenKey
                                                            command. Data to this slot is genererated internally, slot
                                                            data is not user writable.
                                                            <br><br>
                                                        </p>
                                                            <input disabled
                                                                class="slotTextDisabled advancedSearchTextboxReduced placeholder"
                                                                type="text" name="slot0"
                                                                placeholder="Slot data is not user writable">
                                                            <br/><br/>
                                                            <div class="slotLockVisibility">
                                                                <strong>Slot Lock:</strong><br />
                                                                If the following checkbox is checked, the contents of
                                                                the slot cannot be modified under any
                                                                circumstances.<br />
                                                                <table class="slotlock" cellspacing="10"
                                                                    cellpadding="10">
                                                                    <tr>
                                                                        <td>Slot lock </td>
                                                                        <td><input type="checkbox"
                                                                                name="fancy-checkbox-default"
                                                                                id="slotlock4"
                                                                                autocomplete="off"/>
                                                                        </td>
                                                                    </tr>
                                                                </table>
                                                            <br/>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot5ext"
                                                class="accordion-toggle TrPresets" id="Slot5">
                                                <td class="aligncenter">Slot 5</td>
                                                <td>Secret key</td>
                                                <td>Storage for a secret key.</td>
                                                <td>No Read, Encrypted write(6), Lockable, AES key</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot5ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 5</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            This slot provides a storage location for a symmetric key to
                                                            use with the ATECC608B's symmetric key commands. The primary
                                                            use case was to support secondary symmetric authentication.
                                                            For example, many cloud providers perform symmetric
                                                            authentication using HMACSHA256, which could be done with a
                                                            key in this slot. Slot can only be updated with an encrypted
                                                            write using the IO protection key as a write key. The IO
                                                            protection key must be setup prior to writing this slot.
                                                            This slot is also marked as an AES slot so it can be used
                                                            with the AES command if required.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            The data entered in the below step will be stored into the
                                                            device slot during provisioning.<br /><br />

                                                            <strong>Provisioning data input method:</strong>
                                                            <br />
                                                            <input id="0501" type="radio" name="slot5dataopt"
                                                                value="unused" checked="checked">
                                                            <label class="radiotext" for="0501"> Slot Unused</label>
                                                            <br>
                                                            <input id="0502" type="radio" name="slot5dataopt"
                                                                value="hexdata">
                                                            <label class="radiotext" for="0502"> Enter HEX data</label>
                                                            <br>
                                                            <input id="0503" type="radio" name="slot5dataopt"
                                                                value="pemdata">
                                                            <label class="radiotext" for="0503">Upload data through .pem
                                                                file</label>

                                                            <div id="slot5dataoptspan"></div>
                                                            <div id="slot5dataoptverify"></div>

                                                            <div class="slotLockVisibility">
                                                                <strong>Slot Lock:</strong><br>
                                                                If the following checkbox is checked, the contents of
                                                                the slot cannot be modified under any
                                                                circumstances.<br>
                                                                <table class="slotlock" cellspacing="10"
                                                                    cellpadding="10">
                                                                    <tr>
                                                                        <td>Slot lock </td>
                                                                        <td><input type="checkbox"
                                                                                name="fancy-checkbox-default"
                                                                                id="slotlock5"
                                                                                autocomplete="off" /></td>
                                                                    </tr>
                                                                </table>
                                                            <br>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot6ext"
                                                class="accordion-toggle TrPresets">
                                                <td class="aligncenter" id="Slot6">Slot 6</td>
                                                <td>IO protection key</td>
                                                <td>Key used to protect the I2C bus communication (IO) of certain
                                                    commands. Requires setup before use.</td>
                                                <td>No read, Clear write, Lockable</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot6ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 6</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br>
                                                            Using the IO protection features is optional, but the IO
                                                            protection key is saved here. The idea is that on first
                                                            boot, a random key will be generated and saved to this slot
                                                            and the MCU's NVM, then the slot locked. Locking may not be
                                                            necessary, if key rotation is needed for this key, but it
                                                            does open up the device to a DOS attack where the key is
                                                            changed unexpectedly.
                                                            <br><br>
                                                            <strong>Provisioning:</strong><br>
                                                            The data entered in the below step will be stored into the
                                                            device slot during provisioning.
                                                            <br><br>

                                                            <strong>Provisioning data input method:</strong>
                                                            <br>
                                                        </p>
                                                            <input id="0601" type="radio" name="slot6dataopt"
                                                                value="unused" checked="checked">
                                                            <label class="radiotext" for="0601"> Slot Unused</label>
                                                            <br>
                                                            <input id="0602" type="radio" name="slot6dataopt"
                                                                value="hexdata">
                                                            <label class="radiotext" for="0602"> Enter HEX data</label>
                                                            <br>

                                                            <div id="slot6dataoptspan"></div>
                                                            <div id="slot6dataoptverify"></div>

                                                            <div class="slotLockVisibility">
                                                                <strong>Slot Lock:</strong><br />
                                                                If the following checkbox is checked, the contents of
                                                                the slot cannot be modified under any
                                                                circumstances.<br />
                                                                <table class="slotlock" cellspacing="10"
                                                                    cellpadding="10">
                                                                    <tr>
                                                                        <td>Slot lock </td>
                                                                        <td><input type="checkbox"
                                                                                name="fancy-checkbox-default"
                                                                                id="slotlock6"
                                                                                autocomplete="off" /></td>
                                                                    </tr>
                                                                </table>
                                                            <br>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot7ext"
                                                class="accordion-toggle TrPresets" id="Slot7">
                                                <td class="aligncenter">Slot 7</td>
                                                <td>Secure boot digest</td>
                                                <td>Storage location for secureboot digest. This is an internal
                                                    function, so no reads or writes are enabled.</td>
                                                <td>No read, No write</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot7ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 7</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br>
                                                            This slot is used as a secure location to store the
                                                            SecureBoot digest. This slot can be updated only through
                                                            internal commands so no external read/write is possible on
                                                            this slot.
                                                            <br><br>
                                                            <strong>Provisioning:</strong><br>
                                                            No external writes are allowed to this slot, data can be
                                                            stored only using internal commands. This slot is not user
                                                            writable.
                                                            <br><br>
                                                        </p>
                                                            <input disabled
                                                                class="slotTextDisabled advancedSearchTextboxReduced placeholder"
                                                                type="text" name="slot1"
                                                                placeholder="Slot data is not user writable">
                                                            <br /><br />
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot8ext"
                                                class="accordion-toggle TrPresets" id="Slot8">
                                                <td class="aligncenter">Slot 8</td>
                                                <td>General data</td>
                                                <td>General public data storage (416 bytes).</td>
                                                <td>Clear read, Always write, Lockable</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot8ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 8</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br>
                                                            This slot is used for public data storage, data can be
                                                            wrtiien/read in clear text(Not encrypted). This slot should
                                                            not be used for storing secrets.
                                                            <br><br>
                                                            <strong>Provisioning:</strong><br>
                                                            The data entered in the below step will be stored into the
                                                            device slot during provisioning.
                                                            <br><br>
                                                        </p>
                                                            <strong>Provisioning data input method:</strong>
                                                            <br />
                                                            <input id="0801" type="radio" name="slot8dataopt"
                                                                value="unused" checked="checked">
                                                            <label class="radiotext" for="0801"> Slot Unused</label>
                                                            <br>
                                                            <input id="0802" type="radio" name="slot8dataopt"
                                                                value="hexdata">
                                                            <label class="radiotext" for="0802"> Enter HEX data</label>
                                                            <br>

                                                            <div id="slot8dataoptspan"></div>
                                                            <div id="slot8dataoptverify"></div>

                                                            <div class="slotLockVisibility">
                                                                <strong>Slot Lock:</strong><br>
                                                                If the following checkbox is checked, the contents of
                                                                the slot cannot be modified under any
                                                                circumstances.<br>
                                                                <table class="slotlock" cellspacing="10"
                                                                    cellpadding="10">
                                                                    <tr>
                                                                        <td>Slot lock </td>
                                                                        <td><input type="checkbox"
                                                                                name="fancy-checkbox-default"
                                                                                id="slotlock8"
                                                                                autocomplete="off" /></td>
                                                                    </tr>
                                                                </table>
                                                            <br />
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot9ext"
                                                class="accordion-toggle TrPresets" id="Slot9">
                                                <td class="aligncenter">Slot 9</td>
                                                <td>AES key</td>
                                                <td>Intermediate key storage for ECDH and KDF output.</td>
                                                <td>No read, Always write, AES key</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot9ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 9</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br>
                                                            This slot is intended as a destination for ECDH or KDF
                                                            commands so the resulting key can be used with the AES
                                                            command. No read, as ECDH and KDF can return the results
                                                            directly, if the MCU requires it. Always write is required
                                                            to be a destination for the commands. KeyConfig. PubInfo
                                                            must be 1 to be a destination for KDF. <br><br>
                                                            <strong>Provisioning:</strong><br>
                                                            The data entered in the below step will be stored into the
                                                            device slot during provisioning.
                                                            <br><br>
                                                        </p>
                                                            <strong>Provisioning data input method:</strong>
                                                            <br />
                                                            <input id="0901" type="radio" name="slot9dataopt"
                                                                value="unused" checked="checked">
                                                            <label class="radiotext" for="0901"> Slot Unused or Destination for ECDH or KDF</label>
                                                            <br>
                                                            <input id="0902" type="radio" name="slot9dataopt"
                                                                value="hexdata">
                                                            <label class="radiotext" for="0902"> Enter HEX data</label>
                                                            <br>
                                                            <input id="0903" type="radio" name="slot9dataopt"
                                                                value="pemdata">
                                                            <label class="radiotext" for="0903">Upload data through .pem
                                                                file</label>

                                                            <div id="slot9dataoptspan"></div>
                                                            <div id="slot9dataoptverify"></div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot10ext"
                                                class="accordion-toggle TrPresets" id="Slot10">
                                                <td class="aligncenter">Slot 10</td>
                                                <td>Device compressed certificate</td>
                                                <td>Certificate primary public key in the Crypto Authentication
                                                    compressed format.</td>
                                                <td>Clear read, No write</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot10ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 10</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            Device compressed certificate is stored in this slot. This
                                                            slot is written with certificate signed by Microchip signers
                                                            and root.<br /><br /> It's permanent to support a "factory
                                                            reset" option where the original credentials are always
                                                            available. It also prevents Denial-Of-Service attacks where
                                                            the cert is changed, either intentionally or by accident.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            The slot is provisioned by Microchip with its owm root and
                                                            signers. There are two options that customers can choose
                                                            from(Microchip Standard Certificate or Custom certificate).
                                                        </p>
                                                        <ol>
                                                            <li><i>Microchip standard certificate: Certificate
                                                                    elements like
                                                                    name, date, country....... will be filled by
                                                                    Microchip.
                                                                    The certificate will be signed with Microchip
                                                                    signers.</i></li>
                                                            <li><i>Custom Certificate: This option will allow the
                                                                    customer
                                                                    to define some of the certificate elements like
                                                                    name and
                                                                    data.</i></li>
                                                        </ol>
                                                        <strong>Select device certificate type:</strong><br />
                                                        <input id="1001" type="radio" name="slot10certopt"
                                                            value="MCHPCert" checked="checked" onclick="">
                                                        <label class="radiotext" for="1001"> Microchip Standard
                                                            Certificate </label>
                                                        <br>
                                                        <input id="1002" type="radio" name="slot10certopt"
                                                            value="custCert" onclick="">
                                                        <label class="radiotext" for="1002">Custom
                                                            Certificate</label><br><br>
                                                        <div class="divcertnotes" id="device_custcert_notes">
                                                            <strong>Notes on Custom Device Certificate</strong><br/>
                                                            <ol>
                                                                <li>Due to the way the certificates
                                                                are stored/retrieved from the ECC608 device, using Custom certificates will require some knowledge on compressed certificates and certificate templates. </li>
                                                                <li>The issue date only has a resolution of hours. <u>Minutes and seconds are assumed to be zero.</u> Refer to <a href="../../../docs/ATECC608_compressed_certificate_definition.pdf" target="_blank"> Compressed Certificate Definition</a> for further details on the compressed certificates.</li>
                                                                <li>The custom definition files (.c, .h) being generated assumes the size of Organization and Common Names matches with MCHP standard certificates. </li>
                                                                <li>The Distinguished Names, both for the Issuer and for the Subject in all certificates must be comprised of an Organization Name and a Common Name entry, in that order.</li>
                                                                <li>The Organization Name entered here gets padded and spaces replaced with '_' to match with MCHP standard certificates sizes.</li>
                                                                <li>It is recommended to use default CommonName i.e. device serial prefixed with sn. If this needs to be different, its size would be matched to MCHP standard certificates with spaces replaced by '_'</li>
                                                                <li>For the Device certificate Basic Constraints come before the Key Usage, following is the order of extensions:
                                                                    <ol>
                                                                        <li>Basic Constraints: critical, CA:FALSE</li>
                                                                        <li>Key Usage: critical Digital Signature, Key Agreement</li>
                                                                        <li>Subject Key Identifier</li>
                                                                        <li>Authority Key Identifier</li>
                                                                    </ol>
                                                                </li>
                                                            </ol>
                                                            <strong>Populate below to customize certificate fields: </strong>
                                                            <br>
                                                        </div>
                                                        <input
                                                            class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                                        type="text" name="slot10certname" id="10certname"  onchange = "custom_cert_string(this.id, this.value, device_org_name_len)"
                                                            placeholder="Organization name for device cert"><br />
                                                        <input
                                                            class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                                        type="text" name="slot10certcommonname" id="10certcommonname"  onchange = "custom_cert_string(this.id, this.value, device_common_name_len)"
                                                        placeholder="Common name for device cert"> &nbsp;
                                                    <input type="checkbox" id="cbid_devcertcn" name="cbn_devcertcn" checked onchange = "change_devcertcn()">
                                                        <label class="radiotext" for="cbid_devcertcn">Use default CN i.e. Serial Number</label> <br/>
                                                        <input
                                                            class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                                            type="number" name="slot10certyear" min="0" max="31"
                                                            step="1" id="10certyear"
                                                            placeholder="Device cert validity in years"><br />
                                                        <input class="opt2button" type="button" name="verify10"
                                                            id="10verify" value="Verify">
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot11ext"
                                                class="accordion-toggle TrPresets" id="Slot11">
                                                <td class="aligncenter">Slot 11</td>
                                                <td>Signer public key</td>
                                                <td>Public key for the CA (signer) that signed the device cert.</td>
                                                <td>Clear read, No write</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot11ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 11</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            Signer public key is stored in this slot. <br /><br /> It's
                                                            permanent to support a "factory reset" option where the
                                                            original credentials are always available. It also prevents
                                                            Denial-Of-Service attacks where the cert is changed, either
                                                            intentionally or by accident.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            The slot is provisioned by Microchip with the signer public
                                                            key. Slot data is not user modifiable.
                                                            <br /><br />
                                                            <input disabled
                                                                class="slotTextDisabled advancedSearchTextboxReduced placeholder"
                                                                type="text" name="slot1"
                                                                placeholder="Slot data is not user writable">
                                                            <br /><br />
                                                        </p>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot12ext"
                                                class="accordion-toggle TrPresets" id="Slot12">
                                                <td class="aligncenter">Slot 12</td>
                                                <td>Signer compressed certificate</td>
                                                <td>Certificate for the CA (signer) certificate for the device
                                                    certificate in the CryptoAuthentication compressed format.</td>
                                                <td>Clear read, No write</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot12ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 12</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            Signer compressed certificate is stored in this slot.
                                                            <br /><br /> It's permanent to support a "factory reset"
                                                            option where the original credentials are always available.
                                                            It also prevents Denial-Of-Service attacks where the cert is
                                                            changed, either intentionally or by accident.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            The slot is provisioned by Microchip's root key. There are
                                                            two options that customers can choose from(Microchip
                                                            Standard Certificate or Custom certificate).
                                                        </p>
                                                        <ol>
                                                            <li><i>Microchip standard certificate: Certificate
                                                                    elements like
                                                                    name, date, country....... will be filled by
                                                                    Microchip.
                                                                    The certificate will be signed with Microchip
                                                                    root.</i></li>
                                                            <li><i>Custom Certificate: This option will allow the
                                                                    customer
                                                                    to define some of the certificate elements like
                                                                    name and
                                                                    data.</i></li>
                                                        </ol>
                                                        <strong>Select certificate type:</strong><br />
                                                        <input id="1201" type="radio" name="slot12certopt"
                                                            value="MCHPCert" checked="checked" onclick="">
                                                        <label class="radiotext" for="1201"> Microchip Standard
                                                            Certificate </label>
                                                        <br>
                                                        <input id="1202" type="radio" name="slot12certopt"
                                                            value="custCert" onclick="">
                                                        <label class="radiotext" for="1202">Custom
                                                            Certificate</label><br><br>
                                                        <div class="divcertnotes" id="signer_custcert_notes">
                                                            <strong>Notes on Custom Signer Certificate:</strong><br/>
                                                            <ol>
                                                            <li>Due to the way the certificates
                                                                are stored/retrieved from the ECC608 device, using Custom certificates will require some knowledge on compressed certificates and certificate templates. </li>
                                                                <li>The issue date only has a resolution of hours. <u>Minutes and seconds are assumed to be zero.</u> Refer to <a href="../../../docs/ATECC608_compressed_certificate_definition.pdf" target="_blank"> Compressed Certificate Definition</a> for further details on the compressed certificates.</li>
                                                                <li>The custom definition files (.c, .h) being generated assumes the length of Organization and Common Names matches with MCHP standard certificates. </li>
                                                                <li>The Distinguished Names, both for the Issuer and for the Subject in all certificates must be comprised of an Organization Name and a Common Name entry, in that order</li>
                                                                <li>The Organization Name entered here gets padded and spaces replaced with '_' to match MCHP standard certificates sizes.</li>
                                                                <li>The Subject Common Name in the Signer certificate resp. the Issuer Common Name in the Device certificate gets padded and spaces replaced with '_' to match MCHP standard certificates sizes.</li>
                                                                <li>The Signer certificates must contain exactly the following extensions in exactly the same order:
                                                                    <ol>
                                                                        <li>Key Usage, critical: Digital Signature, Certificate Sign, CRL Sign</li>
                                                                        <li>Basic Constraints, critical: CA: TRUE, PATHLEN: 0</li>
                                                                        <li>Subject Key Identifier</li>
                                                                        <li>Authority Key Identifier</li>
                                                                    </ol>
                                                                </li>
                                                            </ol>
                                                            <strong>Populate below to customize certificate fields: </strong>
                                                            <br>
                                                        </div>
                                                        <input
                                                            class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                                        type="text" name="slot12certname" id="12certname" onchange = "custom_cert_string(this.id, this.value, signer_org_name_len)"
                                                            placeholder="Organization name for signer cert"><br />
                                                        <input
                                                            class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                                        type="text" name="slot12certcommonname" id="12certcommonname" onchange = "custom_cert_string(this.id, this.value, signer_common_name_len)"
                                                            placeholder="Common name for signer cert"><br />
                                                        <input
                                                            class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                                            type="number" name="slot12certyear" id="12certyear"
                                                            min="0" max="31" step="1"
                                                            placeholder="Signer cert validity in years"><br />
                                                        <input class="opt2button" type="button" name="verify12"
                                                            id="12verify" value="Verify">
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot13ext"
                                                class="accordion-toggle TrPresets" id="Slot13">
                                                <td class="aligncenter">Slot 13</td>
                                                <td>Parent public key or general data</td>
                                                <td>Parent public key for validating/invalidating the validated public
                                                    key. Can also be used just as a public key or general data storage
                                                    (72 bytes).</td>
                                                <td>Clear read, Always write, Lockable</td>
                                            </tr>

                                            <tr padding="10px">
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot13ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 13</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            If the validated public key feature is required, then this
                                                            is the public key of the validation authority (parent).
                                                            Otherwise, this slot can be used as a normal public key (the
                                                            Validated public key slot should be ignored in this use
                                                            case), or for general data storage. If used as a validation
                                                            authority public key, the slot must be locked after writing
                                                            the key. For other use-cases locking is dependent on the
                                                            application.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            The data entered in the below step will be stored into the
                                                            device slot during provisioning.<br /><br />
                                                        </p>
                                                        <strong>Provisioning data input method:</strong>
                                                        <br />
                                                        <input id="1301" type="radio" name="slot13dataopt"
                                                            value="unused" checked="checked">
                                                        <label class="radiotext" for="1301"> Slot Unused</label>
                                                        <br>
                                                        <input id="1302" type="radio" name="slot13dataopt"
                                                            value="hexdata">
                                                        <label class="radiotext" for="1302">Enter HEX data</label>
                                                        <br>
                                                        <input id="1303" type="radio" name="slot13dataopt"
                                                            value="pemdata">
                                                        <label class="radiotext" for="1303">Upload data through .pem
                                                            file</label>

                                                        <div id="slot13dataoptspan"></div>
                                                        <div id="slot13dataoptverify"></div>

                                                        <br>
                                                        <div class="slotLockVisibility">
                                                            <strong>Slot Lock:</strong><br>
                                                            If the following checkbox is checked, the contents of
                                                            the slot cannot be modified under any
                                                            circumstances.<br />
                                                            <table class="slotlock" cellspacing="10"
                                                                cellpadding="10">
                                                                <tr>
                                                                    <td>Slot lock </td>
                                                                    <td><input type="checkbox"
                                                                            name="fancy-checkbox-default"
                                                                            id="slotlock13"
                                                                            autocomplete="off" /></td>
                                                                </tr>
                                                            </table>
                                                            <br>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot14ext"
                                                class="accordion-toggle TrPresets" id="Slot14">
                                                <td class="aligncenter">Slot 14</td>
                                                <td>Validated public key</td>
                                                <td>Validated public key cannot be used (Verify command) or changed
                                                    without authorization via the parent public key.</td>
                                                <td>Clear read, Always write, Validated (13)</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot14ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 14</h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            If the validated public key feature is required, then that
                                                            public key is stored here. This allows one to have an
                                                            important public key be updatable with through the use of a
                                                            (off-chip) validation authority. Slot defaults to
                                                            unvalidated, so it is writable in the clear until validated.
                                                            As such, it could be used for general data storage as a last
                                                            resort. Last resort is because the first nibble is used to
                                                            store the validation status, so the first byte would have to
                                                            be ignore in that case, which is a strange requirement to
                                                            try and express.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            The data entered in the below step will be stored into the
                                                            device slot during provisioning.
                                                            <br /><br />
                                                        </p>
                                                        <strong>Provisioning data input method:</strong>
                                                        <br />
                                                        <input id="1401" type="radio" name="slot14dataopt"
                                                            value="unused" checked="checked">
                                                        <label class="radiotext" for="1401"> Slot Unused</label>
                                                        <br>
                                                        <input id="1402" type="radio" name="slot14dataopt"
                                                            value="hexdata">
                                                        <label class="radiotext" for="1402">Enter HEX data</label>
                                                        <br>
                                                        <input id="1403" type="radio" name="slot14dataopt"
                                                            value="pemdata">
                                                        <label class="radiotext" for="1403">Upload data through .pem
                                                            file</label>

                                                        <div id="slot14dataoptspan"></div>
                                                        <div id="slot14dataoptverify"></div>

                                                        <br /><br />
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr data-toggle="collapse" data-target="#slot15ext"
                                                class="accordion-toggle TrPresets" id="Slot15">
                                                <td class="aligncenter">Slot 15</td>
                                                <td>Secure boot public key</td>
                                                <td>Secure boot public key.</td>
                                                <td>Clear read, Always write, Lockable</td>
                                            </tr>

                                            <tr>
                                                <td colspan="5" class="hiddenRow">
                                                    <div id="slot15ext" class="accordian-body collapse">
                                                        <h5 class="headingDropdown">SLOT 15 </h5>
                                                        <p>
                                                            <strong>Slot Description:</strong><br />
                                                            SecureBoot public key will be stored in this slot.
                                                            <br /><br />
                                                            <strong>Provisioning:</strong><br />
                                                            The data entered in the below step will be stored into the
                                                            device slot during provisioning.
                                                            <br /><br />
                                                        </p>
                                                        <strong>Provisioning data input method:</strong>
                                                        <br />
                                                        <input id="1501" type="radio" name="slot15dataopt"
                                                            value="unused" checked="checked">
                                                        <label class="radiotext" for="1501"> Slot Unused</label>
                                                        <br />
                                                        <input id="1502" type="radio" name="slot15dataopt"
                                                            value="hexdata">
                                                        <label class="radiotext" for="1502">Enter HEX data</label>
                                                        <br />
                                                        <input id="1503" type="radio" name="slot15dataopt"
                                                            value="pemdata">
                                                        <label class="radiotext" for="1503">Upload data through .pem
                                                            file</label>

                                                        <div id="slot15dataoptspan"></div>
                                                        <div id="slot15dataoptverify"></div>


                                                        <!--- Slot can be used to lock slot 0, private key-->
                                                        <strong>TrustFLEX Secureboot Options:</strong>
                                                        <br />
                                                        Using the following option private key in <strong>Slot 0</strong>
                                                        can be set to require a Secure Boot before this key will be
                                                        authorized for use. If the following option is enabled, user
                                                        will be able to use slot 0 private key only after a successfull
                                                        secuerboot operation. The slot access policy changes for Slot 0 ties to the
                                                        persistent latch being set.
                                                        <br />
                                                        <input id="sbootLatchOpt1" type="radio" name="sbootLatchName"
                                                            value="disabled" checked="checked">
                                                        <label class="radiotext" for="sbootLatchOpt1">Disable</label>

                                                        <br />

                                                        <input id="sbootLatchOpt2" type="radio" name="sbootLatchName"
                                                            value="enabled">
                                                        <label class="radiotext" for="sbootLatchOpt2">Enable</label>

                                                        <br />
                                                        <br />
                                                        <div class="slotLockVisibility">
                                                            <strong>Slot Lock:</strong><br />
                                                            If the following checkbox is checked, the contents of
                                                            the slot cannot be modified under any
                                                            circumstances.<br />
                                                            <table class="slotlock" cellspacing="10"
                                                                cellpadding="10">
                                                                <tr>
                                                                    <td>Slot lock </td>
                                                                    <td><input type="checkbox"
                                                                            name="fancy-checkbox-default"
                                                                            id="slotlock15"
                                                                            autocomplete="off" /></td>
                                                                </tr>
                                                            </table>
                                                            <br />
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>

                                        </table>

                                        <div class="divPresets" id="custCertPubkey">
                                            <strong>Custom root CA provisioning</strong><br />
                                            <br>
                                            <input
                                                class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                            type="text" name="slot16certname" id="16certname"  onchange = "custom_cert_string(this.id, this.value, root_org_name_len)"
                                                placeholder="Enter Organization Name"><br />
                                            <input
                                                class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                            type="text" name="slot16certcommonname" id="16certcommonname"  onchange = "custom_cert_string(this.id, this.value, root_common_name_len)"
                                                placeholder="Enter Common Name"><br />
                                            <input class="opt2button" type="button" name="verify16"
                                                id="16verify" value="Verify">

                                            <br> <br>
                                            For custom provisioning CA public key is needed, it will be used to verify the
                                            full certificate chain (device-signer-root) during production.
                                            <br />
                                            Choose provisioning data input method(Provide root public key):
                                            <br>
                                            <input class="hiddenElement" id="1601" type="radio" name="slot16dataopt"
                                                value="unused" checked="checked">
                                            <br>
                                            <input id="1602" type="radio" name="slot16dataopt" value="hexdata">
                                            <label class="radiotext" for="1602">Enter HEX data</label>
                                            <br>
                                            <input id="1603" type="radio" name="slot16dataopt" value="pemdata">
                                            <label class="radiotext" for="1603">Upload data through .pem
                                                file</label>
                                            <div id="slot16dataoptspan"></div>
                                            <div id="slot16dataoptverify"></div>
                                            <br />
                                        <!-- <strong>Upload Certificate Templates for MCHP reference:</strong><br>
                                        1. Upload Root certificate (<b>.crt</b> only): <input id="1604" type="file" accept=".crt" name="custom_root" value="root_crt" onchange = "process_cert_template(this)"><br>
                                        2. Upload Signer certificate (<b>.crt</b> only): <input id="1605" type="file" accept=".crt" name="custom_signer" value="signer_crt" onchange = "process_cert_template(this)"><br>
                                        3. Upload Device certificate (<b>.crt</b> only): <input id="1606" type="file" accept=".crt" name="custom_device" value="device_crt"  onchange = "process_cert_template(this)"><br> -->
                                    </div>
                                    <br/><strong>Part Number details</strong><br/>
                                    Before generating the Secret Exchange Packet, its required to have MAN-ID and custom Part Number. When customer is availing MCHP provisioning services to load their secrets and certificates, MCHP assigns unique values. These can be requested through support ticket. Refer to <a href="../../../docs/TrustFLEX_guide_secret_exchange_process.pdf" target="_blank"> Secret Exchange Process</a> guide for details. For prototyping, one can leave these blank.<br></br>
                                    <input
                                        class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                        type="text" name="partNumberHex" id="partNumberId"
                                        placeholder="Part number, ex: ATECC608B-MAHAA-T"><br>
                                    <input
                                        class="advancedSearchTextboxReduced placeholder slotTextEnabled"
                                        type="text" name="manIdHex" id="manIdHexId"
                                        placeholder="MAN-ID (SN8), ex: 0x01"><br><br>
                                        <p>The "Generate TFLXTLS provisioning package" button compiles all the data provided in the above slots
                                            into zip package containing .xml, .c and .h files. </p>

                                        <p>
                                            <table>
                                                <tr>
                                                    <td><strong>'.xml'</strong> file contains TFLXTLS device configuration and the data to be loaded into the slots.</td>
                                                </tr>
                                                <tr>

                                                    <td><strong>'.c, .h'</strong> are 'C' source files that are meant to be used with CryptoAuthLib. These files are required to use certificates in CryptoAuthLib.</td>
                                                </tr>
                                            </table>
                                            <br />
                                        <input class="opt2button" type="button" name="submit" id="xmlsubmit"
                                            value="Generate TFLXTLS provisioning package" onclick="gererateXML()">
                                        <br /> <br /> <br />
                                        <!--
                                        <strong>Secrets in the XML output file are not encrypted, the file needs to be
                                            encrypted before it can be
                                            sent over to Microchip provisioning service. </strong>
                                        -->

                                        <p>After incuding the data and generating the provisioning package it can be sent to
                                            Microchip provisoning service through Microchip Support.
                                        </p>

                                        <p>Below link will take you to microchip technical support portal where you can create
                                            a new case and send the provisioning package.</p>
                                        <a href="https://microchipsupport.force.com/s/">Microchip Technical Support Portal</a>
                                    </form>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!--Contact Us Section-->
        <section id="contact" class="contact bg-white fix">
            <div class="container">
                <div class="row">
                    <div class="main_contact roomy-100 text-black">
                        <div class="col-md-10">
                            <div class="rage_widget">
                                <div class="widget_head">
                                    <h3 class="text-black">MICROCHIP</h3>
                                    <div class="separator_left"></div>
                                    <a href="mailto:SPG_personalization@microchip.com">Send us feedback here</a>
                                </div>
                                <p id="id_version_license">This text will be replaced</p>

                            </div>
                        </div>

                    </div>
                </div>
                <!--End off row -->
            </div>
            <!--End off container -->
        </section>
        <!--End off Contact Section-->


        <script id="tFlexECC608" type="text/xmldata">
            <ATECC608B>
    <XMLVersion>01 00 04</XMLVersion>
    <PartNumber>ATECC608B-MAHxx-p</PartNumber>
    <Device>
    <ConfigurationZone>
        <SN01>01 23</SN01>
        <SN8>01</SN8>
        <AESEnable>01</AESEnable>
        <I2CEnable>01</I2CEnable>
        <!-- Device default I2C address (shift right by 1 bit for common value, 0x36). -->
        <I2CAddress>6A</I2CAddress>
        <Reserved Address="17" Size="1">00</Reserved>
        <!-- Counter match feature is disabled. -->
        <CountMatch>00</CountMatch>
        <!--
        I2C address is UserExtraAdd (config byte 85). If UserExtraAdd is 0x00, then I2C address defaults back to I2C_Address. This allows a one-time ability to change the I2C address.
        Input levels use a fixed reference. This allows for larger mismatch between VCC and IO voltage levels (e.g. VCC is 3.3V and VIO is 1.8V).
        tWATCHDOG is 1.3s
        Device is running at its fastest speed.
        -->
        <ChipMode>01</ChipMode>
        <SlotConfigurations Size="16">
        <!-- Primary private key -->
        <SlotConfiguration Index="0">85 00</SlotConfiguration>
        <!-- Internal sign private key -->
        <SlotConfiguration Index="1">82 00</SlotConfiguration>
        <!-- Secondary private key 1 -->
        <SlotConfiguration Index="2">85 20</SlotConfiguration>
        <!-- Secondary private key 2 -->
        <SlotConfiguration Index="3">85 20</SlotConfiguration>
        <!-- Secondary private key 3 -->
        <SlotConfiguration Index="4">85 20</SlotConfiguration>
        <!-- Secret key -->
        <SlotConfiguration Index="5">8F 46</SlotConfiguration>
        <!-- IO protection key -->
        <SlotConfiguration Index="6">8F 0F</SlotConfiguration>
        <!-- Secure boot digest -->
        <SlotConfiguration Index="7">9F 8F</SlotConfiguration>
        <!-- General data -->
        <SlotConfiguration Index="8">0F 0F</SlotConfiguration>
        <!-- AES key -->
        <SlotConfiguration Index="9">8F 0F</SlotConfiguration>
        <!-- Device compressed certificate -->
        <SlotConfiguration Index="A">0F 8F</SlotConfiguration>
        <!-- Signer public key -->
        <SlotConfiguration Index="B">0F 8F</SlotConfiguration>
        <!-- Signer compressed certificate -->
        <SlotConfiguration Index="C">0F 8F</SlotConfiguration>
        <!-- Parent public key or general data -->
        <SlotConfiguration Index="D">0F 0F</SlotConfiguration>
        <!-- Validated public key -->
        <SlotConfiguration Index="E">0D 1F</SlotConfiguration>
        <!-- Secure boot public key -->
        <SlotConfiguration Index="F">0F 0F</SlotConfiguration>
        </SlotConfigurations>
        <Counter0 Size="8">FF FF FF FF 00 00 00 00</Counter0>
        <Counter1 Size="8">FF FF FF FF 00 00 00 00</Counter1>
        <UseLock>00</UseLock>
        <!-- Disable direct control of the persistent latch. -->
        <VolatileKeyPermission>00</VolatileKeyPermission>
        <!-- Secure boot command is enabled and can use the stored digest optimization (FullDig). -->
        <SecureBoot Size="2">03 F7</SecureBoot>
        <!-- No effect since ChipOptions.KDFProt doesn't force encryption in this configuration. -->
        <KdfIvLoc>00</KdfIvLoc>
        <!-- No effect since ChipOptions.KDFProt doesn't force encryption in this configuration. -->
        <KdfIvStr Size="2">69 76</KdfIvStr>
        <Reserved Address="75" Size="9">00 00 00 00 00 00 00 00 00</Reserved>
        <!-- Single byte that can be updated once by the UpdateExtra command. -->
        <UserExtra>00</UserExtra>
        <!-- New I2C Address of the device. This can only be set once, by the user, through the UpdateExtra command. When set to a non-zero value, the device will use this as its I2C address instead of the default address in I2C_Address.DeviceAddress. -->
        <UserExtraAdd>00</UserExtraAdd>
        <!-- No self-tests will automatically execute on power-up or wake. -->
        <SlotLocked>FF FF</SlotLocked>
        <!--
        No self-tests will automatically execute on power-up or wake.
        IO protection key functionality is enabled.
        AES mode of the KDF command is enabled.
        Health test failure bit is automatically cleared after reporting the failure once. This allows a command to be easily retried if the failure was transient.
        ECDH and KDF output in the Clear allowed but encryption is possible.
        -->
        <ChipOptions Size="2">0E 60</ChipOptions>
        <X509format>00 00 00 00</X509format>
        <KeyConfigurations Size="16">
        <KeyConfiguration Index="0">53 00</KeyConfiguration>
        <KeyConfiguration Index="1">53 00</KeyConfiguration>
        <KeyConfiguration Index="2">73 00</KeyConfiguration>
        <KeyConfiguration Index="3">73 00</KeyConfiguration>
        <KeyConfiguration Index="4">73 00</KeyConfiguration>
        <KeyConfiguration Index="5">38 00</KeyConfiguration>
        <KeyConfiguration Index="6">7C 00</KeyConfiguration>
        <KeyConfiguration Index="7">1C 00</KeyConfiguration>
        <KeyConfiguration Index="8">3C 00</KeyConfiguration>
        <KeyConfiguration Index="9">1A 00</KeyConfiguration>
        <KeyConfiguration Index="A">1C 00</KeyConfiguration>
        <KeyConfiguration Index="B">10 00</KeyConfiguration>
        <KeyConfiguration Index="C">1C 00</KeyConfiguration>
        <KeyConfiguration Index="D">30 00</KeyConfiguration>
        <KeyConfiguration Index="E">12 00</KeyConfiguration>
        <KeyConfiguration Index="F">30 00</KeyConfiguration>
        </KeyConfigurations>
    </ConfigurationZone>

    <!--
    Each slot has a specified mode. These modes and their effects are as follows:
    Public       - Data in this slot is considered "public" and won't be encrypted in the file.
    Secret       - Data in this slot is secret in some fashion (sensitive, key, etc...) and should be encrypted in the
                    file. While all bytes for the given slot size should be specified, only supports the first 32 bytes
                    will be written.
    Derived      - Data in this slot will be a 32 byte key diversified using the device's unique serial number. The
                    Data element specifies a parent key that will be encrypted in the file. The derived key will be
                    generated using the DeriveKey command message format. It will be the SHA256 hash of the following
                    fields concatenated:
                        Name              Size  Value
                        Parent Key        32    Parent key as specified in the Data element.
                        DeriveKey OpCode   1    0x1C
                        DeriveKey Param1   1    0x04
                        DeriveKey Param2   2    Specified by the HostTargetKey attribute in the Slot element.
                                                Little-endian ordering.
                        SN[8]              1    Device configuration zone byte 12 (aka manufacturer ID).
                        SN[0:1]            2    Device configuration zone bytes 0 – 1 (01 23).
                        Zeros             25    Zeros
                        SN[0:3]            4    Device configuration zone bytes 0 – 3.
                        SN[4:8]            5    Device configuration zone bytes 4 – 8.
                        SNPad             23    SNPad element in the Slot element (defaults to all zeros).
    GenKey       - Slot is a private key and will be initialization to a new random key during personalization.
    DevicePubKey - If used, the device's public key will be saved to this slot. Requires the PrivSlot attribute (hex)
                    in the Slot element, which points to the slot that holds the device private key (GenKey mode).
    DeviceSig    - If using certificates, this specifies the slot the device compressed certificate should be saved to.
                    The Slot element should have the following attributes:
                        PubSlot        - Slot number (in hex) to find the device public key. This should be the slot with
                                        the DevicePubKey mode, however, it can also directly point to the device private
                                        key slot.
                        CompressedCert - Index of the compressed cert element for the device certificate.
    SignerPubKey - If using certificates, this specifies the slot the signer public key should be saved to.
    SignerSig    - If using certificates, this specifies the slot the signer compressed certificate should be saved to.
                    The Slot element should have the following attributes:
                        PubSlot        - Slot number (in hex) to find the signer public key. This should be the slot with
                                        the SignerPubKey mode.
                        CompressedCert - Index of the compressed cert element for the signer certificate.
    SigData      - If using certificates, this optionally specifies a slot used to store additional certificate data
                    outside the public key and compressed certificate.
    -->

    <DataZone Size="16">
        <Slot Index="0" Mode="GenKey" />
        <Slot Index="1" Mode="GenKey" />
        <Slot Index="2" Mode="GenKey" />
        <Slot Index="3" Mode="GenKey" />
        <Slot Index="4" Mode="GenKey" />
        <Slot Index="5" Mode="Secret">
        <Data Size="36">
            55 00 55 01 55 02 55 03  55 04 55 05 55 06 55 07
            55 08 55 09 55 0A 55 0B  55 0C 55 0D 55 0E 55 0F
            55 10 55 11
        </Data>
        </Slot>
        <Slot Index="6" Mode="Secret">
        <Data Size="36">
            66 00 66 01 66 02 66 03  66 04 66 05 66 06 66 07
            66 08 66 09 66 0A 66 0B  66 0C 66 0D 66 0E 66 0F
            66 10 66 11
        </Data>
        </Slot>
        <Slot Index="7" Mode="Random" />
        <Slot Index="8" Mode="Public">
        <Data Size="416">
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
            00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
        </Data>
        </Slot>
        <Slot Index="9" Mode="Secret">
        <Data Size="72">
            99 00 99 01 99 02 99 03  99 04 99 05 99 06 99 07
            99 08 99 09 99 0A 99 0B  99 0C 99 0D 99 0E 99 0F
            99 10 99 11 99 12 99 13  99 14 99 15 99 16 99 17
            99 18 99 19 99 1A 99 1B  99 1C 99 1D 99 1E 99 1F
            99 20 99 21 99 22 99 23
        </Data>
        </Slot>
        <Slot Index="A" Mode="DeviceSig" PubSlot="0" CompressedCert="0"></Slot>
        <Slot Index="B" Mode="SignerPubKey"></Slot>
        <Slot Index="C" Mode="SignerSig" PubSlot="B" CompressedCert="1"></Slot>
        <Slot Index="D" Mode="Public">
        <Data Size="72">
            00 00 00 00
            2B 67 B4 47 73 4F F0 35  7C 2D 9E 6C EF C7 FB D3
            1C 8F 12 75 C0 8C C3 0C  F8 1B 16 E1 07 6F 80 1C
            00 00 00 00
            00 55 7F 4F 37 7E CB 61  B8 AD 2F 3F D9 6A B6 BF
            E2 35 BA 13 0A 52 F7 EF  87 A5 19 9C 1D 3F C1 47
        </Data>
        </Slot>
        <Slot Index="E" Mode="Public">
        <Data Size="72">
            00 00 00 00
            E2 6B 0F AE EB A3 AD D6  24 CC 96 50 EA DB 73 17
            35 BE 8F D9 22 41 C8 C6  B4 B4 C9 E7 95 ED F2 D2
            00 00 00 00
            6B D9 FD 68 42 4E E4 A6  29 4F 14 F9 7A 5B 52 24
            8C 0C AB A6 A2 69 B2 B1  D5 CC F8 2D 41 13 51 58
        </Data>
        </Slot>
        <Slot Index="F" Mode="Public">
        <Data Size="72">
            00 00 00 00
            8C F4 5B F9 A3 43 BD 6D  C7 CC EB 22 2B 5B 17 91
            EF B4 32 66 B3 1B 19 92  45 E8 F2 C1 43 41 7B 75
            00 00 00 00
            88 47 7C 0E 87 4C BE 5C  78 4A 97 0E BE 87 46 33
            DA 69 3D 2D 78 0D 4C C5  88 A3 EF EB 13 77 0E 98
        </Data>
        </Slot>
    </DataZone>
    <OTPZone Mode="Public">
        <Data Size="64">
        00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
        00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
        00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
        00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
        </Data>
    </OTPZone>
    </Device>
    <!--
    This section contains the certificate definitions for the device and signer certificates. These definitions
    supply a certificate template and describe the locations of the dynamic portions of the certificate in the
    template.
    -->
    <CompressedCerts CompressedCerts="2">
    <CompressedCert Index="0" Type="X509" TemplateID="3" ChainID="0" SNSource="A" ChainLevel="0" TbsSize="411" TbsLoc="4" ValidYears="28">
        <Element Name="SerialNumber" DataLoc="15" NumBytes="16" />
        <Element Name="SignerID" DataLoc="120" NumBytes="4" Format="Hex-BE" />
        <Element Name="IssueDate" DataLoc="128" NumBytes="13" DateFormat="RFC2459.UTC.Zulu" />
        <Element Name="ExpireDate" DataLoc="143" NumBytes="15" DateFormat="RFC2459.Generalized.Zulu" />
        <Element Name="SN03" DataLoc="208" NumBytes="8" DeviceLoc="Config" Offset="0" Transforms="TF_BIN2HEX_UC" />
        <Element Name="SN48" DataLoc="216" NumBytes="10" DeviceLoc="Config" Offset="8" Transforms="TF_BIN2HEX_UC" />
        <Element Name="SubjectPublicKey" DataLoc="253" NumBytes="64" />
        <Element Name="SubjectKeyId" DataLoc="362" NumBytes="20" />
        <Element Name="AuthorityKeyId" DataLoc="395" NumBytes="20" />
        <Element Name="Signature" DataLoc="427" NumBytes="64" />
        <TemplateData Size="500">
        30 82 01 F0 30 82 01 97  A0 03 02 01 02 02 10 55
        CE 2E 8F F6 1C 62 50 B7  E1 68 03 54 14 1C 94 30
        0A 06 08 2A 86 48 CE 3D  04 03 02 30 4F 31 21 30
        1F 06 03 55 04 0A 0C 18  4D 69 63 72 6F 63 68 69
        70 20 54 65 63 68 6E 6F  6C 6F 67 79 20 49 6E 63
        31 2A 30 28 06 03 55 04  03 0C 21 43 72 79 70 74
        6F 20 41 75 74 68 65 6E  74 69 63 61 74 69 6F 6E
        20 53 69 67 6E 65 72 20  46 46 46 46 30 20 17 0D
        31 38 31 31 30 38 30 35  30 30 30 30 5A 18 0F 32
        30 34 36 31 31 30 38 30  35 30 30 30 30 5A 30 42
        31 21 30 1F 06 03 55 04  0A 0C 18 4D 69 63 72 6F
        63 68 69 70 20 54 65 63  68 6E 6F 6C 6F 67 79 20
        49 6E 63 31 1D 30 1B 06  03 55 04 03 0C 14 73 6E
        30 31 32 33 30 31 30 32  30 33 30 34 30 35 30 36
        30 31 30 59 30 13 06 07  2A 86 48 CE 3D 02 01 06
        08 2A 86 48 CE 3D 03 01  07 03 42 00 04 71 F1 A7
        0D A3 79 A3 FD ED 6B 50  10 BD AD 6E 1F B9 E8 EB
        A7 DF 2C 4B 5C 67 D3 5E  BA 84 DA 09 E7 7A E8 DB
        2C CB 96 28 EE EB 85 CD  AA B3 5C 92 E5 3E 1C 44
        D5 5A 2B A7 A0 24 AA 92  60 3B 68 94 8A A3 60 30
        5E 30 0C 06 03 55 1D 13  01 01 FF 04 02 30 00 30
        0E 06 03 55 1D 0F 01 01  FF 04 04 03 02 03 88 30
        1D 06 03 55 1D 0E 04 16  04 14 1A 90 B2 22 37 A4
        51 B7 57 DD 36 D1 3A 85  2B E1 3D 2E F2 CA 30 1F
        06 03 55 1D 23 04 18 30  16 80 14 BC D4 FD E8 80
        8A 2D C9 0B 6D 01 A8 C5  B9 B2 47 33 7E BD DA 30
        0A 06 08 2A 86 48 CE 3D  04 03 02 03 47 00 30 44
        02 20 56 73 96 E4 9C 0A  A7 4E 61 60 12 E3 8A 60
        C3 A8 11 09 7D 9C 5D A4  CD 37 89 C3 62 96 88 7E
        2A 0C 02 20 1E 69 B2 AF  0A D6 C6 7E E1 2D 5D BE
        5A 44 5A D9 1D F1 A5 98  35 8E D0 69 D9 8B D7 DB
        B2 99 CC 34
        </TemplateData>
    </CompressedCert>
    <CompressedCert Index="1" Type="X509" TemplateID="1" ChainID="0" SNSource="A" ChainLevel="1" TbsSize="430" TbsLoc="4" ValidYears="31">
        <Element Name="SerialNumber" DataLoc="15" NumBytes="16" />
        <Element Name="IssueDate" DataLoc="128" NumBytes="13" DateFormat="RFC2459.UTC.Zulu" />
        <Element Name="ExpireDate" DataLoc="143" NumBytes="15" DateFormat="RFC2459.Generalized.Zulu" />
        <Element Name="SignerID" DataLoc="235" NumBytes="4" Format="Hex-BE" />
        <Element Name="SubjectPublicKey" DataLoc="266" NumBytes="64" />
        <Element Name="SubjectKeyId" DataLoc="381" NumBytes="20" />
        <Element Name="AuthorityKeyId" DataLoc="414" NumBytes="20" />
        <Element Name="Signature" DataLoc="446" NumBytes="64" />
        <TemplateData Size="520">
        30 82 02 04 30 82 01 AA  A0 03 02 01 02 02 10 44
        0E E4 17 0C B5 45 CE 59  69 8E 30 56 99 0A 5D 30
        0A 06 08 2A 86 48 CE 3D  04 03 02 30 4F 31 21 30
        1F 06 03 55 04 0A 0C 18  4D 69 63 72 6F 63 68 69
        70 20 54 65 63 68 6E 6F  6C 6F 67 79 20 49 6E 63
        31 2A 30 28 06 03 55 04  03 0C 21 43 72 79 70 74
        6F 20 41 75 74 68 65 6E  74 69 63 61 74 69 6F 6E
        20 52 6F 6F 74 20 43 41  20 30 30 32 30 20 17 0D
        31 38 31 31 30 38 30 34  30 30 30 30 5A 18 0F 32
        30 34 39 31 31 30 38 30  34 30 30 30 30 5A 30 4F
        31 21 30 1F 06 03 55 04  0A 0C 18 4D 69 63 72 6F
        63 68 69 70 20 54 65 63  68 6E 6F 6C 6F 67 79 20
        49 6E 63 31 2A 30 28 06  03 55 04 03 0C 21 43 72
        79 70 74 6F 20 41 75 74  68 65 6E 74 69 63 61 74
        69 6F 6E 20 53 69 67 6E  65 72 20 46 46 46 46 30
        59 30 13 06 07 2A 86 48  CE 3D 02 01 06 08 2A 86
        48 CE 3D 03 01 07 03 42  00 04 84 98 44 0A 31 9B
        3F 71 E2 5D 52 26 00 90  00 C7 56 BD 5C 0F AE 4A
        1B 84 1A D4 A3 3F 21 AB  A0 9A 48 10 1C 75 C8 28
        24 90 B3 B6 5A 52 80 27  29 BD 3A 75 2C 3D F0 DD
        1B 04 A2 A1 B5 7E 0C 92  24 47 A3 66 30 64 30 0E
        06 03 55 1D 0F 01 01 FF  04 04 03 02 01 86 30 12
        06 03 55 1D 13 01 01 FF  04 08 30 06 01 01 FF 02
        01 00 30 1D 06 03 55 1D  0E 04 16 04 14 BC D4 FD
        E8 80 8A 2D C9 0B 6D 01  A8 C5 B9 B2 47 33 7E BD
        DA 30 1F 06 03 55 1D 23  04 18 30 16 80 14 7A ED
        7D 6D C6 B7 78 9D B2 38  01 A5 E8 4A 8C B0 A4 0E
        2A 8C 30 0A 06 08 2A 86  48 CE 3D 04 03 02 03 48
        00 30 45 02 21 00 C5 07  B8 2A 7B F9 A3 3A 1B 78
        DC EB 01 C9 26 92 9E F3  78 3D 46 8E 69 A2 84 D3
        6A BA B9 25 1B EF 02 20  0E 6D 7F 76 8D 65 A7 49
        FA 71 2D DA 2B 69 25 35  CD 57 7D 65 01 96 A3 D2
        BF 3B 22 78 8E 75 41 86
        </TemplateData>
        <CAPublicKey>
        BD 54 E6 6D E3 87 54 84  00 6B 53 AE 15 80 D5 0A
        A0 69 E7 8A DF 55 78 D8  5C E2 D5 4D D5 B8 30 29
        6B FF DD 6E 6F 72 56 FB  D9 9E F1 A1 16 B1 1D 33
        AD 49 10 3A A1 85 87 39  DC FA E4 37 E1 9D 63 4E
        </CAPublicKey>
    </CompressedCert>
    </CompressedCerts>
</ATECC608B>
    </script>

    <script id="tflxtls_cust_cert_def_device_h" type="text/plain">
#ifndef TFLXTLS_CUST_CERT_DEF_DEVICE_H
#define TFLXTLS_CUST_CERT_DEF_DEVICE_H

#include "atcacert/atcacert_def.h"

extern const atcacert_def_t tflxtls_cust_cert_def_device;

#endif
</script>

    <script id="tflxtls_cust_cert_def_signer_h" type="text/plain">
#ifndef TFLXTLS_CUST_CERT_DEF_SIGNER_H
#define TFLXTLS_CUST_CERT_DEF_SIGNER_H

#include "atcacert/atcacert_def.h"

extern const atcacert_def_t tflxtls_cust_cert_def_signer;
extern const uint8_t tflxtls_cust_cert_ca_public_key_signer;

#endif
</script>

    <script id="tflxtls_cust_cert_def_device_c_p1" type="text/plain">
#include "atcacert/atcacert_def.h"
#include "tflxtls_cust_cert_def_signer.h"

const uint8_t tflxtls_cust_cert_template_device[500] = {
</script>

    <script id="tflxtls_cust_cert_def_device_c_p2" type="text/plain">
};

const atcacert_cert_element_t tflxtls_cust_cert_elements_device[] =
{
    {
        .id = "SN03",
        .device_loc = {
            .zone = DEVZONE_CONFIG,
            .slot = 0,
            .is_genkey = 0,
            .offset = 0,
            .count = 4
        },
        .cert_loc = {
            .offset = 208,
            .count = 8
        },
        .transforms = {
            TF_BIN2HEX_UC,
            TF_NONE
        }
    },
    {
        .id = "SN48",
        .device_loc = {
            .zone = DEVZONE_CONFIG,
            .slot = 0,
            .is_genkey = 0,
            .offset = 8,
            .count = 5
        },
        .cert_loc = {
            .offset = 216,
            .count = 10
        },
        .transforms = {
            TF_BIN2HEX_UC,
            TF_NONE
        }
    }
</script>

    <script id="tflxtls_cust_cert_def_device_c_p3" type="text/plain">
};

const atcacert_def_t tflxtls_cust_cert_def_device = {
    .type = CERTTYPE_X509,
    .template_id = 3,
    .chain_id = 0,
    .private_key_slot = 0,
    .sn_source = SNSRC_PUB_KEY_HASH,
    .cert_sn_dev_loc = {
        .zone = DEVZONE_NONE,
        .slot = 0,
        .is_genkey = 0,
        .offset = 0,
        .count = 0
    },
    .issue_date_format = DATEFMT_RFC5280_UTC,
    .expire_date_format = DATEFMT_RFC5280_GEN,
    .tbs_cert_loc = {
        .offset = 4,
        .count = 457
    },
</script>

<script id="tflxtls_cust_cert_def_device_c_p3a" type="text/plain">
    .public_key_dev_loc = {
        .zone = DEVZONE_DATA,
        .slot = 0,
        .is_genkey = 1,
        .offset = 0,
        .count = 64
    },
    .comp_cert_dev_loc = {
        .zone = DEVZONE_DATA,
        .slot = 10,
        .is_genkey = 0,
        .offset = 0,
        .count = 72
    },
    .std_cert_elements = {
        { // STDCERT_PUBLIC_KEY
            .offset = 253,
            .count = 64
        },
        { // STDCERT_SIGNATURE
            .offset = 427,
            .count = 64
        },
        { // STDCERT_ISSUE_DATE
            .offset = 128,
            .count = 13
        },
        { // STDCERT_EXPIRE_DATE
            .offset = 143,
            .count = 15
        },
        { // STDCERT_SIGNER_ID
            .offset = 120,
            .count = 4
        },
        { // STDCERT_CERT_SN
            .offset = 15,
            .count = 16
        },
        { // STDCERT_AUTH_KEY_ID
            .offset = 395,
            .count = 20
        },
        { // STDCERT_SUBJ_KEY_ID
            .offset = 362,
            .count = 20
        }
    },
</script>

    <script id="tflxtls_cust_cert_def_device_c_p4" type="text/plain">
    .cert_elements = NULL,
    .cert_elements_count = 0,
    .cert_template = tflxtls_cust_cert_template_device,
    .cert_template_size = sizeof(tflxtls_cust_cert_template_device),
    .ca_cert_def = &tflxtls_cust_cert_def_signer
};
</script>

<script id="tflxtls_cust_cert_def_device_c_p5" type="text/plain">
    .cert_elements = tflxtls_cust_cert_elements_device,
    .cert_elements_count = sizeof(tflxtls_cust_cert_elements_device) / sizeof(tflxtls_cust_cert_elements_device[0]),
    .cert_template = tflxtls_cust_cert_template_device,
    .cert_template_size = sizeof(tflxtls_cust_cert_template_device),
    .ca_cert_def = &tflxtls_cust_cert_def_signer
};
</script>


    <script id="tflxtls_cust_cert_def_signer_c_p1" type="text/plain">
#include "atcacert/atcacert_def.h"

const uint8_t tflxtls_cust_cert_template_signer[520] = {
</script>

    <script id="tflxtls_cust_cert_def_signer_c_p2" type="text/plain">
};

const uint8_t tflxtls_cust_cert_ca_public_key_signer[64] = {
</script>

    <script id="tflxtls_cust_cert_def_signer_c_p3" type="text/plain">
};

const atcacert_def_t tflxtls_cust_cert_def_signer = {
    .type = CERTTYPE_X509,
    .template_id = 1,
    .chain_id = 0,
    .private_key_slot = 0,
    .sn_source = SNSRC_PUB_KEY_HASH,
    .cert_sn_dev_loc = {
        .zone = DEVZONE_NONE,
        .slot = 0,
        .is_genkey = 0,
        .offset = 0,
        .count = 0
    },
    .issue_date_format = DATEFMT_RFC5280_UTC,
    .expire_date_format = DATEFMT_RFC5280_GEN,
    .tbs_cert_loc = {
        .offset = 4,
        .count = 430
    },
</script>

<script id="tflxtls_cust_cert_def_signer_c_p3a" type="text/plain">
    .public_key_dev_loc = {
        .zone = DEVZONE_DATA,
        .slot = 11,
        .is_genkey = 0,
        .offset = 0,
        .count = 72
    },
    .comp_cert_dev_loc = {
        .zone = DEVZONE_DATA,
        .slot = 12,
        .is_genkey = 0,
        .offset = 0,
        .count = 72
    },
    .std_cert_elements = {
        { // STDCERT_PUBLIC_KEY
            .offset = 266,
            .count = 64
        },
        { // STDCERT_SIGNATURE
            .offset = 446,
            .count = 64
        },
        { // STDCERT_ISSUE_DATE
            .offset = 128,
            .count = 13
        },
        { // STDCERT_EXPIRE_DATE
            .offset = 143,
            .count = 15
        },
        { // STDCERT_SIGNER_ID
            .offset = 235,
            .count = 4
        },
        { // STDCERT_CERT_SN
            .offset = 15,
            .count = 16
        },
        { // STDCERT_AUTH_KEY_ID
            .offset = 414,
            .count = 20
        },
        { // STDCERT_SUBJ_KEY_ID
            .offset = 381,
            .count = 20
        }
    },
    .cert_elements = NULL,
    .cert_elements_count = 0,
    .cert_template = tflxtls_cust_cert_template_signer,
    .cert_template_size = sizeof(tflxtls_cust_cert_template_signer),
    .ca_cert_def = NULL
};
</script>

    <script id="tflxtls_cust_cert_def_signer_c_hex" type="text/plain">
    0x30, 0x82, 0x02, 0x04, 0x30, 0x82, 0x01, 0xaa, 0xa0, 0x03, 0x02, 0x01, 0x02, 0x02, 0x10, 0x44,
    0x0e, 0xe4, 0x17, 0x0c, 0xb5, 0x45, 0xce, 0x59, 0x69, 0x8e, 0x30, 0x56, 0x99, 0x0a, 0x5d, 0x30,
    0x0a, 0x06, 0x08, 0x2a, 0x86, 0x48, 0xce, 0x3d, 0x04, 0x03, 0x02, 0x30, 0x4f, 0x31, 0x21, 0x30,
    0x1f, 0x06, 0x03, 0x55, 0x04, 0x0a, 0x0c, 0x18, 0x4d, 0x69, 0x63, 0x72, 0x6f, 0x63, 0x68, 0x69,
    0x70, 0x20, 0x54, 0x65, 0x63, 0x68, 0x6e, 0x6f, 0x6c, 0x6f, 0x67, 0x79, 0x20, 0x49, 0x6e, 0x63,
    0x31, 0x2a, 0x30, 0x28, 0x06, 0x03, 0x55, 0x04, 0x03, 0x0c, 0x21, 0x43, 0x72, 0x79, 0x70, 0x74,
    0x6f, 0x20, 0x41, 0x75, 0x74, 0x68, 0x65, 0x6e, 0x74, 0x69, 0x63, 0x61, 0x74, 0x69, 0x6f, 0x6e,
    0x20, 0x52, 0x6f, 0x6f, 0x74, 0x20, 0x43, 0x41, 0x20, 0x30, 0x30, 0x32, 0x30, 0x20, 0x17, 0x0d,
    0x31, 0x38, 0x31, 0x31, 0x30, 0x38, 0x30, 0x34, 0x30, 0x30, 0x30, 0x30, 0x5a, 0x18, 0x0f, 0x32,
    0x30, 0x34, 0x39, 0x31, 0x31, 0x30, 0x38, 0x30, 0x34, 0x30, 0x30, 0x30, 0x30, 0x5a, 0x30, 0x4f,
    0x31, 0x21, 0x30, 0x1f, 0x06, 0x03, 0x55, 0x04, 0x0a, 0x0c, 0x18, 0x4d, 0x69, 0x63, 0x72, 0x6f,
    0x63, 0x68, 0x69, 0x70, 0x20, 0x54, 0x65, 0x63, 0x68, 0x6e, 0x6f, 0x6c, 0x6f, 0x67, 0x79, 0x20,
    0x49, 0x6e, 0x63, 0x31, 0x2a, 0x30, 0x28, 0x06, 0x03, 0x55, 0x04, 0x03, 0x0c, 0x21, 0x43, 0x72,
    0x79, 0x70, 0x74, 0x6f, 0x20, 0x41, 0x75, 0x74, 0x68, 0x65, 0x6e, 0x74, 0x69, 0x63, 0x61, 0x74,
    0x69, 0x6f, 0x6e, 0x20, 0x53, 0x69, 0x67, 0x6e, 0x65, 0x72, 0x20, 0x46, 0x46, 0x46, 0x46, 0x30,
    0x59, 0x30, 0x13, 0x06, 0x07, 0x2a, 0x86, 0x48, 0xce, 0x3d, 0x02, 0x01, 0x06, 0x08, 0x2a, 0x86,
    0x48, 0xce, 0x3d, 0x03, 0x01, 0x07, 0x03, 0x42, 0x00, 0x04, 0x84, 0x98, 0x44, 0x0a, 0x31, 0x9b,
    0x3f, 0x71, 0xe2, 0x5d, 0x52, 0x26, 0x00, 0x90, 0x00, 0xc7, 0x56, 0xbd, 0x5c, 0x0f, 0xae, 0x4a,
    0x1b, 0x84, 0x1a, 0xd4, 0xa3, 0x3f, 0x21, 0xab, 0xa0, 0x9a, 0x48, 0x10, 0x1c, 0x75, 0xc8, 0x28,
    0x24, 0x90, 0xb3, 0xb6, 0x5a, 0x52, 0x80, 0x27, 0x29, 0xbd, 0x3a, 0x75, 0x2c, 0x3d, 0xf0, 0xdd,
    0x1b, 0x04, 0xa2, 0xa1, 0xb5, 0x7e, 0x0c, 0x92, 0x24, 0x47, 0xa3, 0x66, 0x30, 0x64, 0x30, 0x0e,
    0x06, 0x03, 0x55, 0x1d, 0x0f, 0x01, 0x01, 0xff, 0x04, 0x04, 0x03, 0x02, 0x01, 0x86, 0x30, 0x12,
    0x06, 0x03, 0x55, 0x1d, 0x13, 0x01, 0x01, 0xff, 0x04, 0x08, 0x30, 0x06, 0x01, 0x01, 0xff, 0x02,
    0x01, 0x00, 0x30, 0x1d, 0x06, 0x03, 0x55, 0x1d, 0x0e, 0x04, 0x16, 0x04, 0x14, 0xbc, 0xd4, 0xfd,
    0xe8, 0x80, 0x8a, 0x2d, 0xc9, 0x0b, 0x6d, 0x01, 0xa8, 0xc5, 0xb9, 0xb2, 0x47, 0x33, 0x7e, 0xbd,
    0xda, 0x30, 0x1f, 0x06, 0x03, 0x55, 0x1d, 0x23, 0x04, 0x18, 0x30, 0x16, 0x80, 0x14, 0x7a, 0xed,
    0x7d, 0x6d, 0xc6, 0xb7, 0x78, 0x9d, 0xb2, 0x38, 0x01, 0xa5, 0xe8, 0x4a, 0x8c, 0xb0, 0xa4, 0x0e,
    0x2a, 0x8c, 0x30, 0x0a, 0x06, 0x08, 0x2a, 0x86, 0x48, 0xce, 0x3d, 0x04, 0x03, 0x02, 0x03, 0x48,
    0x00, 0x30, 0x45, 0x02, 0x21, 0x00, 0xc5, 0x07, 0xb8, 0x2a, 0x7b, 0xf9, 0xa3, 0x3a, 0x1b, 0x78,
    0xdc, 0xeb, 0x01, 0xc9, 0x26, 0x92, 0x9e, 0xf3, 0x78, 0x3d, 0x46, 0x8e, 0x69, 0xa2, 0x84, 0xd3,
    0x6a, 0xba, 0xb9, 0x25, 0x1b, 0xef, 0x02, 0x20, 0x0e, 0x6d, 0x7f, 0x76, 0x8d, 0x65, 0xa7, 0x49,
    0xfa, 0x71, 0x2d, 0xda, 0x2b, 0x69, 0x25, 0x35, 0xcd, 0x57, 0x7d, 0x65, 0x01, 0x96, 0xa3, 0xd2,
    0xbf, 0x3b, 0x22, 0x78, 0x8e, 0x75, 0x41, 0x86
    </script>

    <script id="tflxtls_cust_cert_def_device_c_hex" type="text/plain">
0x30, 0x82, 0x01, 0xF0, 0x30, 0x82, 0x01, 0x97, 0xA0, 0x03, 0x02, 0x01, 0x02, 0x02, 0x10, 0x55,
0xCE, 0x2E, 0x8F, 0xF6, 0x1C, 0x62, 0x50, 0xB7, 0xE1, 0x68, 0x03, 0x54, 0x14, 0x1C, 0x94, 0x30,
0x0A, 0x06, 0x08, 0x2A, 0x86, 0x48, 0xCE, 0x3D, 0x04, 0x03, 0x02, 0x30, 0x4F, 0x31, 0x21, 0x30,
0x1F, 0x06, 0x03, 0x55, 0x04, 0x0A, 0x0C, 0x18, 0x4D, 0x69, 0x63, 0x72, 0x6F, 0x63, 0x68, 0x69,
0x70, 0x20, 0x54, 0x65, 0x63, 0x68, 0x6E, 0x6F, 0x6C, 0x6F, 0x67, 0x79, 0x20, 0x49, 0x6E, 0x63,
0x31, 0x2A, 0x30, 0x28, 0x06, 0x03, 0x55, 0x04, 0x03, 0x0C, 0x21, 0x43, 0x72, 0x79, 0x70, 0x74,
0x6F, 0x20, 0x41, 0x75, 0x74, 0x68, 0x65, 0x6E, 0x74, 0x69, 0x63, 0x61, 0x74, 0x69, 0x6F, 0x6E,
0x20, 0x53, 0x69, 0x67, 0x6E, 0x65, 0x72, 0x20, 0x46, 0x46, 0x46, 0x46, 0x30, 0x20, 0x17, 0x0D,
0x31, 0x38, 0x31, 0x31, 0x30, 0x38, 0x30, 0x35, 0x30, 0x30, 0x30, 0x30, 0x5A, 0x18, 0x0F, 0x32,
0x30, 0x34, 0x36, 0x31, 0x31, 0x30, 0x38, 0x30, 0x35, 0x30, 0x30, 0x30, 0x30, 0x5A, 0x30, 0x42,
0x31, 0x21, 0x30, 0x1F, 0x06, 0x03, 0x55, 0x04, 0x0A, 0x0C, 0x18, 0x4D, 0x69, 0x63, 0x72, 0x6F,
0x63, 0x68, 0x69, 0x70, 0x20, 0x54, 0x65, 0x63, 0x68, 0x6E, 0x6F, 0x6C, 0x6F, 0x67, 0x79, 0x20,
0x49, 0x6E, 0x63, 0x31, 0x1D, 0x30, 0x1B, 0x06, 0x03, 0x55, 0x04, 0x03, 0x0C, 0x14, 0x73, 0x6E,
0x30, 0x31, 0x32, 0x33, 0x30, 0x31, 0x30, 0x32, 0x30, 0x33, 0x30, 0x34, 0x30, 0x35, 0x30, 0x36,
0x30, 0x31, 0x30, 0x59, 0x30, 0x13, 0x06, 0x07, 0x2A, 0x86, 0x48, 0xCE, 0x3D, 0x02, 0x01, 0x06,
0x08, 0x2A, 0x86, 0x48, 0xCE, 0x3D, 0x03, 0x01, 0x07, 0x03, 0x42, 0x00, 0x04, 0x71, 0xF1, 0xA7,
0x0D, 0xA3, 0x79, 0xA3, 0xFD, 0xED, 0x6B, 0x50, 0x10, 0xBD, 0xAD, 0x6E, 0x1F, 0xB9, 0xE8, 0xEB,
0xA7, 0xDF, 0x2C, 0x4B, 0x5C, 0x67, 0xD3, 0x5E, 0xBA, 0x84, 0xDA, 0x09, 0xE7, 0x7A, 0xE8, 0xDB,
0x2C, 0xCB, 0x96, 0x28, 0xEE, 0xEB, 0x85, 0xCD, 0xAA, 0xB3, 0x5C, 0x92, 0xE5, 0x3E, 0x1C, 0x44,
0xD5, 0x5A, 0x2B, 0xA7, 0xA0, 0x24, 0xAA, 0x92, 0x60, 0x3B, 0x68, 0x94, 0x8A, 0xA3, 0x60, 0x30,
0x5E, 0x30, 0x0C, 0x06, 0x03, 0x55, 0x1D, 0x13, 0x01, 0x01, 0xFF, 0x04, 0x02, 0x30, 0x00, 0x30,
0x0E, 0x06, 0x03, 0x55, 0x1D, 0x0F, 0x01, 0x01, 0xFF, 0x04, 0x04, 0x03, 0x02, 0x03, 0x88, 0x30,
0x1D, 0x06, 0x03, 0x55, 0x1D, 0x0E, 0x04, 0x16, 0x04, 0x14, 0x1A, 0x90, 0xB2, 0x22, 0x37, 0xA4,
0x51, 0xB7, 0x57, 0xDD, 0x36, 0xD1, 0x3A, 0x85, 0x2B, 0xE1, 0x3D, 0x2E, 0xF2, 0xCA, 0x30, 0x1F,
0x06, 0x03, 0x55, 0x1D, 0x23, 0x04, 0x18, 0x30, 0x16, 0x80, 0x14, 0xBC, 0xD4, 0xFD, 0xE8, 0x80,
0x8A, 0x2D, 0xC9, 0x0B, 0x6D, 0x01, 0xA8, 0xC5, 0xB9, 0xB2, 0x47, 0x33, 0x7E, 0xBD, 0xDA, 0x30,
0x0A, 0x06, 0x08, 0x2A, 0x86, 0x48, 0xCE, 0x3D, 0x04, 0x03, 0x02, 0x03, 0x47, 0x00, 0x30, 0x44,
0x02, 0x20, 0x56, 0x73, 0x96, 0xE4, 0x9C, 0x0A, 0xA7, 0x4E, 0x61, 0x60, 0x12, 0xE3, 0x8A, 0x60,
0xC3, 0xA8, 0x11, 0x09, 0x7D, 0x9C, 0x5D, 0xA4, 0xCD, 0x37, 0x89, 0xC3, 0x62, 0x96, 0x88, 0x7E,
0x2A, 0x0C, 0x02, 0x20, 0x1E, 0x69, 0xB2, 0xAF, 0x0A, 0xD6, 0xC6, 0x7E, 0xE1, 0x2D, 0x5D, 0xBE,
0x5A, 0x44, 0x5A, 0xD9, 0x1D, 0xF1, 0xA5, 0x98, 0x35, 0x8E, 0xD0, 0x69, 0xD9, 0x8B, 0xD7, 0xDB,
0xB2, 0x99, 0xCC, 0x34
    </script>

        <!-- scroll up-->
        <div class="scrollup">
            <a href="#"><i class="fa fa-chevron-up"></i></a>
        </div><!-- End off scroll up -->

        <footer id="footer" class="footer bgblack">
            <div class="container">
                <div class="row">
                    <div class="main_footer text-center p-top-40 p-bottom-30">
                        <p class="wow fadeInRight" data-wow-duration="1s">
                            Made with
                            <i class="fa fa-heart"></i>
                            by
                            <a target="_blank" href="https://bootstrapthemes.co">Bootstrap Themes</a>
                        </p>
                    </div>
                </div>
            </div>
        </footer>

        <!--</div>-->
        <!-- JS includes -->
        <script src="assets/js/vendor/jquery-1.11.2.min.js"></script>
        <script src="assets/js/vendor/bootstrap.min.js"></script>
        <script src="assets/js/jquery.magnific-popup.js"></script>
        <script src="assets/js/jquery.easing.1.3.js"></script>
        <script src="assets/js/slick.min.js"></script>
        <script src="assets/js/jquery.collapse.js"></script>
        <script src="assets/js/bootsnav.js"></script>
        <script src="assets/js/script_strings.js"></script>
        <script src="assets/js/testjs.js"></script>
        <script src="assets/js/VERSION"></script>
        <script src="assets/js/flexParser.js"></script>
        <script src="assets/js/jszip.js"></script>
        <script src="assets/js/fileZip.js"></script>
        <script src="assets/js/writeLockSlot.js"></script>
        <script src="assets/js/usecase_library.js"></script>
        <script src="assets/js/validate_slot.js"></script>
        <script src="assets/js/man-id.js"></script>
        <script src="assets/js/gmaps.min.js"></script>
        <script src="assets/js/plugins.js"></script>
        <script src="assets/js/main.js"></script>

        <script>
            function showmap() {
                var mapOptions = {
                    zoom: 8,
                    scrollwheel: false,
                    center: new google.maps.LatLng(-34.397, 150.644),
                    mapTypeId: google.maps.MapTypeId.ROADMAP
                };
                var map = new google.maps.Map(document.getElementById('map_canvas'), mapOptions);
                $('.mapheight').css('height', '350');
                $('.maps_text h3').hide();
            }
            function custom_cert_string(elementid, user_val, target_len)
            {
                document.getElementById(elementid).value = String(user_val.substring(0,target_len)).padEnd(target_len, '_').replaceAll(' ', '_');
            }
            function change_devcertcn()
            {
                var sn_selection = is_sn_selected_as_CN();

                document.getElementById("10certcommonname").disabled = sn_selection;
                if(sn_selection)
                    document.getElementById("10certcommonname").value = 'sn010203040506070809';
                else
                {
                    document.getElementById("10certcommonname").value = '';
                    document.getElementById("10certcommonname").placeholder = 'Common name for device cert'
                }
            }
            function is_sn_selected_as_CN()
            {
                return document.getElementById("cbid_devcertcn").checked;
            }
            // var root_cert, signer_crt, device_crt;
            // function process_cert_template(elem_obj)
            // {
            //     var file = elem_obj.files[0];
            //     if (file.name.toLowerCase().indexOf(".crt") < 0)
            //         alert("It accepts only .crt files");
            //     var reader = new FileReader();
            //     reader.readAsText(file);
            //     reader.onload = function(progressEvent){
            //         if(elem_obj.id == "1604")
            //             root_cert = this.result;
            //         else if(elem_obj.id == "1605")
            //             signer_crt = this.result;
            //         else if(elem_obj.id == "1606")
            //             device_crt = this.result;
            //     };
            // }
            // function get_certs()
            // {
            //     return [root_cert, signer_crt, device_crt];
            // }
        </script>
</body>
</html>